<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="keywords" content="数据结构week2, Phoenix">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>数据结构week2 | Phoenix</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>




<!-- 动态标题 -->
  <script type="text/javascript"> var OriginTitile = document.title, st; 
      document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) }) </script>
        



<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Phoenix</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Phoenix</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #F062A7;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>
  <!-- 今日诗词特效 -->
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>


</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/images/r.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">数据结构week2</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                                <span class="chip bg-color">数据结构</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" class="post-category">
                                程序设计
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-07-29
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2021-07-30
                </div>
                

                
                <div class="info-break-policy">
	    
    <i class="fa fa-pencil"></i> 作者: Phoenix
    
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    9.7k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    45 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Week2线性结构"><a href="#Week2线性结构" class="headerlink" title="Week2线性结构"></a>Week2线性结构</h1><h2 id="2-1-线性表及其实现"><a href="#2-1-线性表及其实现" class="headerlink" title="2.1 线性表及其实现"></a>2.1 线性表及其实现</h2><h3 id="多项式的表示"><a href="#多项式的表示" class="headerlink" title="多项式的表示"></a>多项式的表示</h3><p>例 一元多项式及其运算</p>
<p>一元多项式 ：$f(x)=a_0+a_1x+\cdots+a_{n-1}x^{n-1}+a_nx^n$​</p>
<p>主要运算： 多项式相加、相减、相乘等</p>
<p>分析 如何表示多项式？多项式的关键数据：多项式系数n和各项系数$a_i$及指数i</p>
<h4 id="方法1：顺序存储结构直接表示"><a href="#方法1：顺序存储结构直接表示" class="headerlink" title="方法1：顺序存储结构直接表示"></a>方法1：顺序存储结构直接表示</h4><p>数组各分量对应多项式各项 ：$a[i]:$项$x^i$的系数$a_i$</p>
<p>两个多项式相加： 两个数组对应分量相加  </p>
<p>问题：如何表示多项式 $x+3x^{2000}?$​  （用数组空间浪费）</p>
<h4 id="方法2：顺序存储结构表示非零项"><a href="#方法2：顺序存储结构表示非零项" class="headerlink" title="方法2：顺序存储结构表示非零项"></a>方法2：顺序存储结构表示非零项</h4><p>每个非零项$a_ix^i$涉及两个信息：系数$a_i$和指数$i$</p>
<p>可以将一个多项式看成是一个$(a_i,i)$二元组的集合</p>
<p>用结构数组表示： 数组分量是由系数$a_i$、指数$i$组成的结构，对应一个非零项  </p>
<p><strong>按指数大小有序存储！</strong></p>
<p>相加过程：从头开始，比较两个多项式当前对应项的指数  </p>
<p>$P1: (9,12), (15,8), (3,2)$</p>
<p>$P2: (26,19), (-4,8), (-13,6), (82,0)$</p>
<p>$P3: (26,19) (9,12) (11,8) (-13,6) (3,2) (82,0)  $</p>
<p>$P3(x) = 26x^{19} + 9x^{12} +11x^8 - 13x^6 + 3x^2 + 82$</p>
<h4 id="方法3：链表结构存储非零项"><a href="#方法3：链表结构存储非零项" class="headerlink" title="方法3：链表结构存储非零项"></a>方法3：链表结构存储非零项</h4><p>链表中每个结点存储多项式中的一个非零项，包括系数和指数两个数据域以及一个指针域  </p>
<table>
<thead>
<tr>
<th>coef</th>
<th>expon</th>
<th>link</th>
</tr>
</thead>
</table>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">PolyNode</span> <span class="token operator">*</span>Polynomial<span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">PolyNode</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> coef<span class="token punctuation">;</span>
	<span class="token keyword">int</span> expon<span class="token punctuation">;</span>
	Polynomial link<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="什么是线性表"><a href="#什么是线性表" class="headerlink" title="什么是线性表"></a>什么是线性表</h3><p>多项式表示问题的启示：</p>
<ol>
<li>同一个问题可以有不同的表示（存储）方法</li>
<li>有一类共性问题：有序线性序列的组织和管理 </li>
</ol>
<p>” 线性表（Linear List）”：由同类型数据元素构成有序序列的线性结构</p>
<ul>
<li>表中元素个数称为线性表的长度</li>
<li>线性表没有元素时，称为空表</li>
<li>表起始位置称表头，表结束位置称表尾  </li>
</ul>
<h3 id="线性表的抽象数据类型描述"><a href="#线性表的抽象数据类型描述" class="headerlink" title="线性表的抽象数据类型描述"></a>线性表的抽象数据类型描述</h3><p>类型名称： 线性表$(List)$</p>
<p>数据对象集： 线性表是 $n (≥0)$个元素构成的有序序列$( a_1, a_2, \cdots,a_n )$</p>
<p>操作集： 线性表$L \in List$，整数$i$表示位置，元素$X \in ElementType$，</p>
<p>线性表基本操作主要有：</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">List <span class="token function">MakeEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//初始化一个空线性表L；</span>
ElementType <span class="token function">FindKth</span><span class="token punctuation">(</span><span class="token keyword">int</span> K<span class="token punctuation">,</span> List L<span class="token punctuation">)</span><span class="token comment">//根据位序K，返回相应元素 ；</span>
<span class="token keyword">int</span> <span class="token function">Find</span><span class="token punctuation">(</span>ElementType X<span class="token punctuation">,</span> List L<span class="token punctuation">)</span><span class="token comment">//在线性表L中查找X的第一次出现位置；</span>
<span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span>ElementType X<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> List L<span class="token punctuation">)</span><span class="token comment">//在位序i前插入一个新元素X；</span>
<span class="token keyword">void</span> <span class="token function">Delete</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> List L<span class="token punctuation">)</span><span class="token comment">//删除指定位序i的元素；</span>
<span class="token keyword">int</span> <span class="token function">Length</span><span class="token punctuation">(</span>List L<span class="token punctuation">)</span><span class="token comment">//返回线性表L的长度n。    </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="线性表的顺序存储实现"><a href="#线性表的顺序存储实现" class="headerlink" title="线性表的顺序存储实现"></a>线性表的顺序存储实现</h3><p>利用数组的<strong>连续存储空间顺序存放</strong>线性表的各元素  </p>
<table>
<thead>
<tr>
<th>下标$i$</th>
<th>0</th>
<th>1</th>
<th>$\cdots$</th>
<th>$i-1$</th>
<th>$i$</th>
<th>$\cdots$</th>
<th>$n-1$</th>
<th>$\cdots$</th>
<th>$MAXSIZE-1$</th>
</tr>
</thead>
<tbody><tr>
<td>Data</td>
<td>$a_1$</td>
<td>$a_2$​</td>
<td>$\cdots$</td>
<td>$a_i$​</td>
<td>$a_{i+1}$​</td>
<td>$\cdots$</td>
<td>$a_n(Last)$​</td>
<td>$\cdots$</td>
<td>-</td>
</tr>
</tbody></table>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LNode</span><span class="token operator">*</span> List<span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">LNode</span> <span class="token punctuation">&#123;</span>
	ElementType Data<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> Last<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">LNode</span> L<span class="token punctuation">;</span>
List PtrL<span class="token punctuation">;</span>
<span class="token comment">//访问下标为 i 的元素： L.Data[i] 或 PtrL->Data[i]</span>
<span class="token comment">//线性表的长度： L.Last+1 或 PtrL->Last+1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="主要操作的实现"><a href="#主要操作的实现" class="headerlink" title="主要操作的实现"></a>主要操作的实现</h4><h5 id="1-初始化（建立空的顺序表）"><a href="#1-初始化（建立空的顺序表）" class="headerlink" title="1.初始化（建立空的顺序表）"></a>1.初始化（建立空的顺序表）</h5><pre class="line-numbers language-c" data-language="c"><code class="language-c">List <span class="token function">MakeEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	List PtrL<span class="token punctuation">;</span>
	PtrL <span class="token operator">=</span> <span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">LNode</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	PtrL<span class="token operator">-></span>Last <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> PtrL<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="2-查找"><a href="#2-查找" class="headerlink" title="2.查找"></a>2.查找</h5><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">Find</span><span class="token punctuation">(</span>ElementType X<span class="token punctuation">,</span> List PtrL<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> PtrL<span class="token operator">-></span>Last <span class="token operator">&amp;&amp;</span> PtrL<span class="token operator">-></span>Data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> X<span class="token punctuation">)</span>
		i<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">></span> PtrL<span class="token operator">-></span>Last<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">/* 如果没找到， 返回-1 */</span>
	<span class="token keyword">else</span> <span class="token keyword">return</span> i<span class="token punctuation">;</span> <span class="token comment">/* 找到后返回的是存储位置 */</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>查找成功的平均比较次数为$(n +1)/2$，平均时间性能为$O(n)$。  </p>
<h5 id="3-插入（第-i-1≤i≤n-1-个位置上插入一个值为-X-的新元素"><a href="#3-插入（第-i-1≤i≤n-1-个位置上插入一个值为-X-的新元素" class="headerlink" title="3.插入（第 $i (1≤i≤n+1)$个位置上插入一个值为$X$的新元素)"></a>3.插入（第 $i (1≤i≤n+1)$个位置上插入一个值为$X$的新元素)</h5><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span>ElementType X<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> List PtrL<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> j<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>PtrL<span class="token operator">-></span>Last <span class="token operator">==</span> MAXSIZE <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 表空间已满，不能插入*/</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>＂表满＂<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> i <span class="token operator">></span> PtrL<span class="token operator">-></span>Last <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/*检查插入位置的合法性*/</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>＂位置不合法＂<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> PtrL<span class="token operator">-></span>Last<span class="token punctuation">;</span> j <span class="token operator">>=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span>
		PtrL<span class="token operator">-></span>Data<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> PtrL<span class="token operator">-></span>Data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/*将 ai～ an倒序向后移动*/</span>
	PtrL<span class="token operator">-></span>Data<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> X<span class="token punctuation">;</span> <span class="token comment">/*新元素插入*/</span>
	PtrL<span class="token operator">-></span>Last<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">/*Last仍指向最后元素*/</span>
	<span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>平均移动次数为$ n /2$， 平均时间性能为 $O(n)$</p>
<h5 id="4-删除（删除表的第-i-1≤i≤n-个位置上的元素"><a href="#4-删除（删除表的第-i-1≤i≤n-个位置上的元素" class="headerlink" title="4.删除（删除表的第$ i (1≤i≤n)$个位置上的元素)"></a>4.删除（删除表的第$ i (1≤i≤n)$个位置上的元素)</h5><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Delete</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> List PtrL<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> j<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> i <span class="token operator">></span> PtrL<span class="token operator">-></span>Last <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/*检查空表及删除位置的合法性*/</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>“不存在第 <span class="token operator">%</span> d个元素”<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> PtrL<span class="token operator">-></span>Last<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		PtrL<span class="token operator">-></span>Data<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> PtrL<span class="token operator">-></span>Data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/*将 ai+1～ an顺序向前移动*/</span>
	PtrL<span class="token operator">-></span>Last<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">/*Last仍指向最后元素*/</span>
	<span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>平均移动次数为$ (n-1) /2$​， 平均时间性能为 $O(n)$​</p>
<h3 id="线性表的链式存储实现"><a href="#线性表的链式存储实现" class="headerlink" title="线性表的链式存储实现"></a>线性表的链式存储实现</h3><p>不要求逻辑上相邻的两个元素物理上也相邻；通过“链”建立起数据元素之间的逻辑关系。</p>
<p>• 插入、删除不需要移动数据元素，只需要修改“链” 。  </p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LNode</span><span class="token operator">*</span> List<span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">LNode</span> <span class="token punctuation">&#123;</span>
	ElementType Data<span class="token punctuation">;</span>
	List Next<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">Lnode</span> L<span class="token punctuation">;</span>
List PtrL<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="主要操作的实现-1"><a href="#主要操作的实现-1" class="headerlink" title="主要操作的实现"></a>主要操作的实现</h4><h5 id="1-求表长"><a href="#1-求表长" class="headerlink" title="1.求表长"></a>1.求表长</h5><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">Length</span><span class="token punctuation">(</span>List PtrL<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	List p <span class="token operator">=</span> PtrL<span class="token punctuation">;</span> <span class="token comment">/* p指向表的第一个结点*/</span>
	<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		p <span class="token operator">=</span> p<span class="token operator">-></span>Next<span class="token punctuation">;</span>
		j<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">/* 当前p指向的是第 j 个结点*/</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> j<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>时间性能为 $O(n)$。</p>
<h5 id="2-查找-1"><a href="#2-查找-1" class="headerlink" title="2.查找"></a>2.查找</h5><h6 id="（1）按序号查找-FindKth"><a href="#（1）按序号查找-FindKth" class="headerlink" title="（1）按序号查找: FindKth;"></a>（1）按序号查找: FindKth;</h6><pre class="line-numbers language-c" data-language="c"><code class="language-c">List <span class="token function">FindKth</span><span class="token punctuation">(</span><span class="token keyword">int</span> K<span class="token punctuation">,</span> List PtrL<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	List p <span class="token operator">=</span> PtrL<span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> K<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		p <span class="token operator">=</span> p<span class="token operator">-></span>Next<span class="token punctuation">;</span>
		i<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> K<span class="token punctuation">)</span> <span class="token keyword">return</span> p<span class="token punctuation">;</span>
	<span class="token comment">/* 找到第K个，返回指针 */</span>
	<span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token comment">/* 否则返回空 */</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="（2）按值查找-Find"><a href="#（2）按值查找-Find" class="headerlink" title="（2）按值查找: Find"></a>（2）按值查找: Find</h6><pre class="line-numbers language-c" data-language="c"><code class="language-c">List <span class="token function">Find</span><span class="token punctuation">(</span>ElementType X<span class="token punctuation">,</span> List PtrL<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	List p <span class="token operator">=</span> PtrL<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> p<span class="token operator">-></span>Data <span class="token operator">!=</span> X<span class="token punctuation">)</span>
		p <span class="token operator">=</span> p<span class="token operator">-></span>Next<span class="token punctuation">;</span>
	<span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="3-插入（在第-i-1-1≤i≤n-1-个结点后插入一个值为-X-的新结点"><a href="#3-插入（在第-i-1-1≤i≤n-1-个结点后插入一个值为-X-的新结点" class="headerlink" title="3.插入（在第 $i-1(1≤i≤n+1)$个结点后插入一个值为$X$的新结点)"></a>3.插入（在第 $i-1(1≤i≤n+1)$个结点后插入一个值为$X$的新结点)</h5><p>（1）先构造一个新结点，用s指向；</p>
<p>（2）再找到链表的第 i-1个结点，用p指向；</p>
<p>（3）然后修改指针，插入结点 （ p之后插入新结点是 s）</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">List <span class="token function">Insert</span><span class="token punctuation">(</span>ElementType X<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> List PtrL<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	List p<span class="token punctuation">,</span> s<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 新结点插入在表头 */</span>
		s <span class="token operator">=</span> <span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">LNode</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/*申请、填装结点*/</span>
		s<span class="token operator">-></span>Data <span class="token operator">=</span> X<span class="token punctuation">;</span>
		s<span class="token operator">-></span>Next <span class="token operator">=</span> PtrL<span class="token punctuation">;</span>
		<span class="token keyword">return</span> s<span class="token punctuation">;</span> <span class="token comment">/*返回新表头指针*/</span>
	<span class="token punctuation">&#125;</span>
	p <span class="token operator">=</span> <span class="token function">FindKth</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> PtrL<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 查找第i-1个结点 */</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 第i-1个不存在，不能插入 */</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>＂参数i错＂<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
		s <span class="token operator">=</span> <span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">LNode</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/*申请、填装结点*/</span>
		s<span class="token operator">-></span>Data <span class="token operator">=</span> X<span class="token punctuation">;</span>
		s<span class="token operator">-></span>Next <span class="token operator">=</span> p<span class="token operator">-></span>Next<span class="token punctuation">;</span> <span class="token comment">/*新结点插入在第i-1个结点的后面*/</span>
		p<span class="token operator">-></span>Next <span class="token operator">=</span> s<span class="token punctuation">;</span>
		<span class="token keyword">return</span> PtrL<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="4-删除（删除链表的第-i-1≤i≤n-个位置上的结点"><a href="#4-删除（删除链表的第-i-1≤i≤n-个位置上的结点" class="headerlink" title="4.删除（删除链表的第 $i (1≤i≤n)$个位置上的结点)"></a>4.删除（删除链表的第 $i (1≤i≤n)$个位置上的结点)</h5><p>（1）先找到链表的第 i-1个结点，用p指向；</p>
<p>（2）再用指针s指向要被删除的结点（ p的下一个结点）；</p>
<p>（3）然后修改指针，删除s所指结点;</p>
<p>（4）最后释放s所指结点的空间。  </p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">List <span class="token function">Delete</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> List PtrL<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	List p<span class="token punctuation">,</span> s<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 若要删除的是表的第一个结点 */</span>
		s <span class="token operator">=</span> PtrL<span class="token punctuation">;</span> <span class="token comment">/*s指向第1个结点*/</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>PtrL <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> PtrL <span class="token operator">=</span> PtrL<span class="token operator">-></span>Next<span class="token punctuation">;</span> <span class="token comment">/*从链表中删除*/</span>
		<span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/*释放被删除结点 */</span>
		<span class="token keyword">return</span> PtrL<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	p <span class="token operator">=</span> <span class="token function">FindKth</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> PtrL<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/*查找第i-1个结点*/</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>“第 <span class="token operator">%</span> d个结点不存在”<span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token operator">-></span>Next <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>“第 <span class="token operator">%</span> d个结点不存在”<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
		s <span class="token operator">=</span> p<span class="token operator">-></span>Next<span class="token punctuation">;</span> <span class="token comment">/*s指向第i个结点*/</span>
		p<span class="token operator">-></span>Next <span class="token operator">=</span> s<span class="token operator">-></span>Next<span class="token punctuation">;</span> <span class="token comment">/*从链表中删除*/</span>
		<span class="token function">free</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/*释放被删除结点 */</span>
		<span class="token keyword">return</span> PtrL<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="广义表（Generalized-List）"><a href="#广义表（Generalized-List）" class="headerlink" title="广义表（Generalized List）"></a>广义表（Generalized List）</h3><ul>
<li>广义表是线性表的推广</li>
<li>对于线性表而言， n个元素都是基本的单元素；</li>
<li>广义表中，这些元素不仅可以是单元素也可以是另一个广义表。  </li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">GNode</span><span class="token operator">*</span> GList<span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">GNode</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> Tag<span class="token punctuation">;</span> <span class="token comment">/*标志域： 0表示结点是单元素， 1表示结点是广义表 */</span>
	<span class="token keyword">union</span> <span class="token punctuation">&#123;</span> <span class="token comment">/*子表指针域Sublist与单元素数据域Data复用，即共用存储空间*/</span>
		ElementType Data<span class="token punctuation">;</span>
		GList SubList<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span> URegion<span class="token punctuation">;</span>
	GList Next<span class="token punctuation">;</span> <span class="token comment">/* 指向后继结点 */</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="多重链表"><a href="#多重链表" class="headerlink" title="多重链表"></a>多重链表</h3><p>多重链表： 链表中的节点可能同时隶属于多个链</p>
<ul>
<li>多重链表中结点的指针域会有多个，如前面例子包含了Next和SubList两个指针域；</li>
<li> 但包含两个指针域的链表并不一定是多重链表，比如在双向链表不是多重链表。</li>
</ul>
<p>多重链表有广泛的用途：基本上如树、图这样相对复杂的数据结构都可以采用多重链表方式实现存储。  </p>
<p>例 矩阵可以用二维数组表示，但二维数组表示有两个缺陷：  </p>
<ul>
<li>一是数组的大小需要事先确定，</li>
<li>对于“稀疏矩阵 ”，将造成大量的存储空间浪费。  </li>
</ul>
<p>分析  采用一种典型的多重链表——十字链表来存储稀疏矩阵</p>
<p>1.只存储矩阵非0元素项结点的数据域： 行坐标Row、列坐标Col、数值Value</p>
<p>2.每个结点通过两个指针域， 把同行、同列串起来;</p>
<ul>
<li>行指针（或称为向右指针）Right</li>
<li>列指针（或称为向下指针）Down  </li>
</ul>
<p>用一个标识域Tag来区分头结点和非0元素结点：</p>
<p>头节点的标识值为“Head”，矩阵非0元素结点的标识值为“Term”。  </p>
<h2 id="2-2-堆栈"><a href="#2-2-堆栈" class="headerlink" title="2.2 堆栈"></a>2.2 堆栈</h2><h3 id="什么是堆栈"><a href="#什么是堆栈" class="headerlink" title="什么是堆栈"></a>什么是堆栈</h3><p>计算机如何进行表达式求值？  </p>
<p>例 算术表达式$5+6/2-3*4$。</p>
<p>正确理解$5+6/2-3*4=5+3-3$​​ $ *\ 4=8-3$​​ $*\ 4=-4$​​​​​</p>
<p>由两类对象构成的：</p>
<ul>
<li>运算数，如2、 3、 4</li>
<li>运算符号，如$+、 -、 *、 /$</li>
</ul>
<p>不同运算符号优先级不一样  </p>
<h3 id="后缀表达式"><a href="#后缀表达式" class="headerlink" title="后缀表达式"></a>后缀表达式</h3><ul>
<li>中缀表达式： 运算符号位于两个运算数之间。 如 ，$ a + b * c - d / e$</li>
<li>后缀表达式： 运算符号位于两个运算数之后。如，$ a\ b\ c *\ +\ d\ e\ /\ -  $</li>
</ul>
<p>后缀表达式求值策略：从左向右“扫描”，逐个处理运算数和运算符号</p>
<ol>
<li>遇到运算数怎么办？如何“记住”目前还不未参与运算的数？</li>
<li>遇到运算符号怎么办？对应的运算数是什么？  </li>
</ol>
<p>启示： 需要有种存储方法，能顺序存储运算数，并在需要时“倒序”输出！  </p>
<h3 id="堆栈的抽象数据类型描述"><a href="#堆栈的抽象数据类型描述" class="headerlink" title="堆栈的抽象数据类型描述"></a>堆栈的抽象数据类型描述</h3><p>堆栈（Stack） ： 具有一定操作约束的线性表</p>
<ul>
<li><p>只在一端（栈顶， Top）做 插入、删除  </p>
</li>
<li><p>插入数据： 入栈（Push）</p>
</li>
<li><p>删除数据： 出栈（Pop）</p>
</li>
<li><p>后入先出： Last In First Out（LIFO）  </p>
</li>
</ul>
<p>类型名称: 堆栈（Stack）</p>
<p>数据对象集： 一个有0个或多个元素的有穷线性表。</p>
<p>操作集： 长度为$MaxSize$的堆栈$S \in Stack$，堆栈元素$item \in ElementType$</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">Stack <span class="token function">CreateStack</span><span class="token punctuation">(</span><span class="token keyword">int</span> MaxSize<span class="token punctuation">)</span><span class="token comment">//生成空堆栈，其最大长度为MaxSize；</span>
<span class="token keyword">int</span> <span class="token function">IsFull</span><span class="token punctuation">(</span>Stack S<span class="token punctuation">,</span> <span class="token keyword">int</span> MaxSize<span class="token punctuation">)</span><span class="token comment">//判断堆栈S是否已满；</span>
<span class="token keyword">void</span> <span class="token function">Push</span><span class="token punctuation">(</span>Stack S<span class="token punctuation">,</span> ElementType item<span class="token punctuation">)</span><span class="token comment">//将元素item压入堆栈；</span>
<span class="token keyword">int</span> <span class="token function">IsEmpty</span><span class="token punctuation">(</span>Stack S<span class="token punctuation">)</span><span class="token comment">//判断堆栈S是否为空；</span>
ElementType <span class="token function">Pop</span><span class="token punctuation">(</span>Stack S<span class="token punctuation">)</span><span class="token comment">//删除并返回栈顶元素；</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Push 和 Pop 可以穿插交替进行；</p>
<p>按照操作系列</p>
<p>$(1)Push(S,A), Push(S,B),Push((S,C),Pop(S),Pop(S),Pop(S) $​ 堆栈输出是$CBA$</p>
<p>$(2)Push(S,A), Pop(S),Push(S,B),Push((S,C),Pop(S),Pop(S)$​ 堆栈输出是$ACB$​ </p>
<h3 id="栈的顺序存储实现"><a href="#栈的顺序存储实现" class="headerlink" title="栈的顺序存储实现"></a>栈的顺序存储实现</h3><p>栈的顺序存储结构通常由一个一维数组和一个记录栈顶元素位置的变量组成。  </p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MaxSize</span> <span class="token expression"><span class="token operator">&lt;</span>储存数据元素的最大个数<span class="token operator">></span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">SNode</span><span class="token operator">*</span> Stack<span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">SNode</span> <span class="token punctuation">&#123;</span>
	ElementType Data<span class="token punctuation">[</span>MaxSize<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> Top<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="（1）入-栈"><a href="#（1）入-栈" class="headerlink" title="（1）入 栈"></a>（1）入 栈</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Push</span><span class="token punctuation">(</span>Stack PtrS<span class="token punctuation">,</span> ElementType item<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>PtrS<span class="token operator">-></span>Top <span class="token operator">==</span> MaxSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>“堆栈满”<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
		PtrS<span class="token operator">-></span>Data<span class="token punctuation">[</span><span class="token operator">++</span><span class="token punctuation">(</span>PtrS<span class="token operator">-></span>Top<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="（2）出栈"><a href="#（2）出栈" class="headerlink" title="（2）出栈"></a>（2）出栈</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c">ElementType <span class="token function">Pop</span><span class="token punctuation">(</span>Stack PtrS<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>PtrS<span class="token operator">-></span>Top <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>“堆栈空”<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> ERROR<span class="token punctuation">;</span> <span class="token comment">/* ERROR是ElementType的特殊值，标志错误*/</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>PtrS<span class="token operator">-></span>Data<span class="token punctuation">[</span><span class="token punctuation">(</span>PtrS<span class="token operator">-></span>Top<span class="token punctuation">)</span><span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>例 请用一个数组实现两个堆栈，要求最大地利用数组空间，使数组只要有空间入栈操作就可以成功。  </p>
<p>分析 一种比较聪明的方法是使这两个栈分别从数组的两头开始向中间生长；当两个栈的栈顶指针相遇时，表示两个栈都满了。  </p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MaxSize</span> <span class="token expression"><span class="token operator">&lt;</span>存储数据元素的最大个数<span class="token operator">></span></span></span>
<span class="token keyword">struct</span> <span class="token class-name">DStack</span> <span class="token punctuation">&#123;</span>
	ElementType Data<span class="token punctuation">[</span>MaxSize<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> Top1<span class="token punctuation">;</span> <span class="token comment">/* 堆栈１的栈顶指针 */</span>
	<span class="token keyword">int</span> Top2<span class="token punctuation">;</span> <span class="token comment">/* 堆栈２的栈顶指针 */</span>
<span class="token punctuation">&#125;</span> S<span class="token punctuation">;</span>
S<span class="token punctuation">.</span>Top1 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
S<span class="token punctuation">.</span>Top2 <span class="token operator">=</span> MaxSize<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">Push</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">DStack</span><span class="token operator">*</span> PtrS<span class="token punctuation">,</span> ElementType item<span class="token punctuation">,</span> <span class="token keyword">int</span> Tag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token comment">/* Tag作为区分两个堆栈的标志，取值为1和2 */</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>PtrS<span class="token operator">-></span>Top2 – PtrS<span class="token operator">-></span>Top1 <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/*堆栈满*/</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>“堆栈满”<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>Tag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">/* 对第一个堆栈操作 */</span>
		PtrS<span class="token operator">-></span>Data<span class="token punctuation">[</span><span class="token operator">++</span><span class="token punctuation">(</span>PtrS<span class="token operator">-></span>Top1<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
	<span class="token keyword">else</span> <span class="token comment">/* 对第二个堆栈操作 */</span>
		PtrS<span class="token operator">-></span>Data<span class="token punctuation">[</span><span class="token operator">--</span><span class="token punctuation">(</span>PtrS<span class="token operator">-></span>Top2<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
ElementType <span class="token function">Pop</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">DStack</span><span class="token operator">*</span> PtrS<span class="token punctuation">,</span> <span class="token keyword">int</span> Tag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> 
	<span class="token comment">/* Tag作为区分两个堆栈的标志，取值为1和2 */</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>Tag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 对第一个堆栈操作 */</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>PtrS<span class="token operator">-></span>Top1 <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/*堆栈1空 */</span>
			<span class="token function">printf</span><span class="token punctuation">(</span>“堆栈<span class="token number">1</span>空”<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">else</span> <span class="token keyword">return</span> PtrS<span class="token operator">-></span>Data<span class="token punctuation">[</span><span class="token punctuation">(</span>PtrS<span class="token operator">-></span>Top1<span class="token punctuation">)</span><span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 对第二个堆栈操作 */</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>PtrS<span class="token operator">-></span>Top2 <span class="token operator">==</span> MaxSize<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/*堆栈2空 */</span>
			<span class="token function">printf</span><span class="token punctuation">(</span>“堆栈<span class="token number">2</span>空”<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">else</span> <span class="token keyword">return</span> PtrS<span class="token operator">-></span>Data<span class="token punctuation">[</span><span class="token punctuation">(</span>PtrS<span class="token operator">-></span>Top2<span class="token punctuation">)</span><span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="堆栈的链式存储实现"><a href="#堆栈的链式存储实现" class="headerlink" title="堆栈的链式存储实现"></a>堆栈的链式存储实现</h3><p>栈的链式存储结构实际上就是一个单链表，叫做链栈。插入和删除操作只能在链栈的栈顶进行。 </p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">SNode</span><span class="token operator">*</span> Stack<span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">SNode</span> <span class="token punctuation">&#123;</span>
	ElementType Data<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">SNode</span><span class="token operator">*</span> Next<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="1-堆栈初始化（建立空栈）"><a href="#1-堆栈初始化（建立空栈）" class="headerlink" title="(1) 堆栈初始化（建立空栈）"></a>(1) 堆栈初始化（建立空栈）</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c">Stack <span class="token function">CreateStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> 
	<span class="token comment">/* 构建一个堆栈的头结点，返回指针 */</span>
	Stack S<span class="token punctuation">;</span>
	S <span class="token operator">=</span> <span class="token punctuation">(</span>Stack<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">SNode</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	S<span class="token operator">-></span>Next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> S<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="2-判断堆栈S是否为空"><a href="#2-判断堆栈S是否为空" class="headerlink" title="(2) 判断堆栈S是否为空"></a>(2) 判断堆栈S是否为空</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">IsEmpty</span><span class="token punctuation">(</span>Stack S<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> 
	<span class="token comment">/*判断堆栈S是否为空， 若为空函数返回整数1， 否则返回0 */</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>S<span class="token operator">-></span>Next <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="（3）入-栈"><a href="#（3）入-栈" class="headerlink" title="（3）入 栈"></a>（3）入 栈</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Push</span><span class="token punctuation">(</span>ElementType item<span class="token punctuation">,</span> Stack S<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">/* 将元素item压入堆栈S */</span>
	<span class="token keyword">struct</span> <span class="token class-name">SNode</span><span class="token operator">*</span> TmpCell<span class="token punctuation">;</span>
	TmpCell <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">SNode</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">SNode</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	TmpCell<span class="token operator">-></span>Element <span class="token operator">=</span> item<span class="token punctuation">;</span>
	TmpCell<span class="token operator">-></span>Next <span class="token operator">=</span> S<span class="token operator">-></span>Next<span class="token punctuation">;</span>
	S<span class="token operator">-></span>Next <span class="token operator">=</span> TmpCell<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="（4）出栈"><a href="#（4）出栈" class="headerlink" title="（4）出栈"></a>（4）出栈</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c">ElementType <span class="token function">Pop</span><span class="token punctuation">(</span>Stack S<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">/* 删除并返回堆栈S的栈顶元素 */</span>
	<span class="token keyword">struct</span> <span class="token class-name">SNode</span><span class="token operator">*</span> FirstCell<span class="token punctuation">;</span>
	ElementType TopElem<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsEmpty</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>“堆栈空”<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
		FirstCell <span class="token operator">=</span> S<span class="token operator">-></span>Next<span class="token punctuation">;</span>
		S<span class="token operator">-></span>Next <span class="token operator">=</span> FirstCell<span class="token operator">-></span>Next<span class="token punctuation">;</span>
		TopElem <span class="token operator">=</span> FirstCell<span class="token operator">-></span>Element<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>FirstCell<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> TopElem<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="堆栈应用：表达式求值"><a href="#堆栈应用：表达式求值" class="headerlink" title="堆栈应用：表达式求值"></a>堆栈应用：表达式求值</h3><p>回忆： 应用堆栈实现后缀表达式求值的基本过程：</p>
<p>从左到右读入后缀表达式的各项（运算符或运算数）；</p>
<ol>
<li>运算数： 入栈；</li>
<li>运算符： 从堆栈中弹出适当数量的运算数，计算并结果入栈；</li>
<li>最后，堆栈顶上的元素就是表达式的结果值。  </li>
</ol>
<h3 id="中缀表达式求值"><a href="#中缀表达式求值" class="headerlink" title="中缀表达式求值"></a>中缀表达式求值</h3><p>基本策略：将中缀表达式转换为后缀表达式，然后求值</p>
<p>如何将中缀表达式转换为后缀？</p>
<p>观察一个简单例子： $2+9/3-5 \qquad \rightarrow\qquad  2\ 9\ 3\ /\ +\ -$​​</p>
<ol>
<li><p>运算数相对顺序不变</p>
</li>
<li><p>运算符号顺序发生改变</p>
<p>需要存储“等待中”的运算符号</p>
<p>要将当前运算符号与“等待中”的最后一个运算符号比较</p>
</li>
</ol>
<h3 id="中缀表达式如何转换为后缀表达式"><a href="#中缀表达式如何转换为后缀表达式" class="headerlink" title="中缀表达式如何转换为后缀表达式"></a>中缀表达式如何转换为后缀表达式</h3><p>从头到尾读取中缀表达式的每个对象，对不同对象按不同的情况处理。</p>
<p>① 运算数： 直接输出；</p>
<p>② 左括号： 压入堆栈；</p>
<p>③ 右括号： 将栈顶的运算符弹出并输出， 直到遇到左括号（出栈，不输出）；</p>
<p>④ 运算符：</p>
<p>• 若优先级大于栈顶运算符时，则把它压栈；</p>
<p>• 若优先级小于等于栈顶运算符时，将栈顶运算符弹出并输出；再比较新的栈顶运算符，直到该运算符大于栈顶运算符优先级为止，然后将该运算符压栈；</p>
<p>⑤ 若各对象处理完毕，则把堆栈中存留的运算符一并输出。  </p>
<h3 id="堆栈的其他应用"><a href="#堆栈的其他应用" class="headerlink" title="堆栈的其他应用"></a>堆栈的其他应用</h3><ul>
<li>函数调用及递归实现</li>
<li>深度优先搜索</li>
<li>回溯算法</li>
<li>$\cdots$</li>
</ul>
<h2 id="2-3-队列及实现"><a href="#2-3-队列及实现" class="headerlink" title="2.3 队列及实现"></a>2.3 队列及实现</h2><h3 id="什么是队列"><a href="#什么是队列" class="headerlink" title="什么是队列"></a>什么是队列</h3><p>队列（Queue）： 具有一定操作约束的线性表</p>
<ul>
<li>插入和删除操作：只能在一端插入，而在另一端删除。  </li>
<li>数据插入： 入队列（AddQ）</li>
<li>数据删除： 出队列（DeleteQ）</li>
<li>先来先服务</li>
<li>先进先出： FIFO  </li>
</ul>
<h3 id="队列的抽象数据类型描述"><a href="#队列的抽象数据类型描述" class="headerlink" title="队列的抽象数据类型描述"></a>队列的抽象数据类型描述</h3><p>类型名称：队列（Queue）</p>
<p>数据对象集： 一个有0个或多个元素的有穷线性表。</p>
<p>操作集：长度为$MaxSize$的队列$Q \in Queue$，队列元素$item \in ElementType$</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">Queue <span class="token function">CreatQueue</span><span class="token punctuation">(</span><span class="token keyword">int</span> MaxSize<span class="token punctuation">)</span><span class="token comment">//生成长度为MaxSize的空队列；</span>
<span class="token keyword">int</span> <span class="token function">IsFullQ</span><span class="token punctuation">(</span>Queue Q<span class="token punctuation">,</span> <span class="token keyword">int</span> MaxSize<span class="token punctuation">)</span><span class="token comment">//判断队列Q是否已满；</span>
<span class="token keyword">void</span> <span class="token function">AddQ</span><span class="token punctuation">(</span>Queue Q<span class="token punctuation">,</span> ElementType item<span class="token punctuation">)</span><span class="token comment">// 将数据元素item插入队列Q中；</span>
<span class="token keyword">int</span> <span class="token function">IsEmptyQ</span><span class="token punctuation">(</span>Queue Q<span class="token punctuation">)</span><span class="token comment">//判断队列Q是否为空；</span>
ElementType <span class="token function">DeleteQ</span><span class="token punctuation">(</span>Queue Q<span class="token punctuation">)</span><span class="token comment">//将队头数据元素从队列中删除并返回。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="队列的顺序存储实现"><a href="#队列的顺序存储实现" class="headerlink" title="队列的顺序存储实现"></a>队列的顺序存储实现</h3><p>队列的顺序存储结构通常由一个一维数组和一个记录队列头元素位置的变量front以及一个记录队列尾元素位置的变量rear组成。  </p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MaxSize</span> <span class="token expression"><span class="token operator">&lt;</span>储存数据元素的最大个数<span class="token operator">></span></span></span>
<span class="token keyword">struct</span> <span class="token class-name">QNode</span> <span class="token punctuation">&#123;</span>
	ElementType Data<span class="token punctuation">[</span>MaxSize<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> rear<span class="token punctuation">;</span>
	<span class="token keyword">int</span> front<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">QNode</span><span class="token operator">*</span> Queue<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="（1）入队列"><a href="#（1）入队列" class="headerlink" title="（1）入队列"></a>（1）入队列</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">AddQ</span><span class="token punctuation">(</span>Queue PtrQ<span class="token punctuation">,</span> ElementType item<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>PtrQ<span class="token operator">-></span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> MaxSize <span class="token operator">==</span> PtrQ<span class="token operator">-></span>front<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>“队列满”<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	PtrQ<span class="token operator">-></span>rear <span class="token operator">=</span> <span class="token punctuation">(</span>PtrQ<span class="token operator">-></span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> MaxSize<span class="token punctuation">;</span>
	PtrQ<span class="token operator">-></span>Data<span class="token punctuation">[</span>PtrQ<span class="token operator">-></span>rear<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Front和rear指针的移动采用“加1取余”法，体现了顺序存储的“循环使用”。  </p>
<h4 id="（2）出队列"><a href="#（2）出队列" class="headerlink" title="（2）出队列"></a>（2）出队列</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c">ElementType <span class="token function">DeleteQ</span><span class="token punctuation">(</span>Queue PtrQ<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>PtrQ<span class="token operator">-></span>front <span class="token operator">==</span> PtrQ<span class="token operator">-></span>rear<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>“队列空”<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
		PtrQ<span class="token operator">-></span>front <span class="token operator">=</span> <span class="token punctuation">(</span>PtrQ<span class="token operator">-></span>front <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> MaxSize<span class="token punctuation">;</span>
		<span class="token keyword">return</span> PtrQ<span class="token operator">-></span>Data<span class="token punctuation">[</span>PtrQ<span class="token operator">-></span>front<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="队列的链式存储实现"><a href="#队列的链式存储实现" class="headerlink" title="队列的链式存储实现"></a>队列的链式存储实现</h3><p>队列的链式存储结构也可以用一个单链表实现。插入和删除操作分别在链表的两头进行；   </p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">struct</span> <span class="token class-name">Node</span> <span class="token punctuation">&#123;</span>
	ElementType Data<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token operator">*</span> Next<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">QNode</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 链队列结构 */</span>
	<span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token operator">*</span> rear<span class="token punctuation">;</span> <span class="token comment">/* 指向队尾结点 */</span>
	<span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token operator">*</span> front<span class="token punctuation">;</span> <span class="token comment">/* 指向队头结点 */</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">QNode</span><span class="token operator">*</span> Queue<span class="token punctuation">;</span>
Queue PtrQ<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="不带头结点的链式队列出队操作的一个示例："><a href="#不带头结点的链式队列出队操作的一个示例：" class="headerlink" title="不带头结点的链式队列出队操作的一个示例："></a>不带头结点的链式队列出队操作的一个示例：</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c">ElementType <span class="token function">DeleteQ</span><span class="token punctuation">(</span>Queue PtrQ<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token operator">*</span> FrontCell<span class="token punctuation">;</span>
	ElementType FrontElem<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>PtrQ<span class="token operator">-></span>front <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span>“队列空”<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	FrontCell <span class="token operator">=</span> PtrQ<span class="token operator">-></span>front<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>PtrQ<span class="token operator">-></span>front <span class="token operator">==</span> PtrQ<span class="token operator">-></span>rear<span class="token punctuation">)</span> <span class="token comment">/* 若队列只有一个元素 */</span>
		PtrQ<span class="token operator">-></span>front <span class="token operator">=</span> PtrQ<span class="token operator">-></span>rear <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> <span class="token comment">/* 删除后队列置为空 */</span>
	<span class="token keyword">else</span>
		PtrQ<span class="token operator">-></span>front <span class="token operator">=</span> PtrQ<span class="token operator">-></span>front<span class="token operator">-></span>Next<span class="token punctuation">;</span>
	FrontElem <span class="token operator">=</span> FrontCell<span class="token operator">-></span>Data<span class="token punctuation">;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>FrontCell<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 释放被删除结点空间 */</span>
	<span class="token keyword">return</span> FrontElem<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="2-4-应用-多项式加法运算"><a href="#2-4-应用-多项式加法运算" class="headerlink" title="2.4 应用: 多项式加法运算"></a>2.4 应用: 多项式加法运算</h2><p>主要思路：相同指数的项系数相加，其余部分进行拷贝。  </p>
<h3 id="多项式加法运算"><a href="#多项式加法运算" class="headerlink" title="多项式加法运算"></a>多项式加法运算</h3><p>采用不带头结点的单向链表， 按照指数递减的顺序排列各项  </p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">struct</span> <span class="token class-name">PolyNode</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> coef<span class="token punctuation">;</span> <span class="token comment">// 系数</span>
	<span class="token keyword">int</span> expon<span class="token punctuation">;</span> <span class="token comment">// 指数</span>
	<span class="token keyword">struct</span> <span class="token class-name">PolyNode</span><span class="token operator">*</span> link<span class="token punctuation">;</span> <span class="token comment">// 指向下一个节点的指针</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">PolyNode</span><span class="token operator">*</span> Polynomial<span class="token punctuation">;</span>
Polynomial P1<span class="token punctuation">,</span> P2<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>算法思路</strong>： 两个指针P1和P2分别指向这两个多项式第一个结点， 不断循环：</p>
<ul>
<li>P1-&gt;expon == P2-&gt;expon: 系数相加，若结果不为0，则作为结果多项式对应项的系数。 同时， P1和P2都分别指向下一项；</li>
<li>P1-&gt;expon &gt; P2-&gt;expon: 将P1的当前项存入结果多项式，并使P1指向下一项；</li>
<li>P1-&gt;expon &lt; P2-&gt;expon: 将P2的当前项存入结果多项式，并使P2指向下一项；</li>
</ul>
<p>当某一多项式处理完时，将另一个多项式的所有结点依次复制到结果多项式中去。  </p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">Polynomial <span class="token function">PolyAdd</span><span class="token punctuation">(</span>Polynomial P1<span class="token punctuation">,</span> Polynomial P2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	Polynomial front<span class="token punctuation">,</span> rear<span class="token punctuation">,</span> temp<span class="token punctuation">;</span>
	<span class="token keyword">int</span> sum<span class="token punctuation">;</span>
	rear <span class="token operator">=</span> <span class="token punctuation">(</span>Polynomial<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">PolyNode</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//为方便表头插入，先产生一个临时空结点作为结果多项式链表头</span>
	front <span class="token operator">=</span> rear<span class="token punctuation">;</span> <span class="token comment">/* 由front 记录结果多项式链表头结点 */</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>P1 <span class="token operator">&amp;&amp;</span> P2<span class="token punctuation">)</span> <span class="token comment">/* 当两个多项式都有非零项待处理时 */</span>
		<span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token function">Compare</span><span class="token punctuation">(</span>P1<span class="token operator">-></span>expon<span class="token punctuation">,</span> P2<span class="token operator">-></span>expon<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token comment">//P1中的数据项指数较大</span>
			<span class="token function">Attach</span><span class="token punctuation">(</span>P1<span class="token operator">-></span>coef<span class="token punctuation">,</span> P1<span class="token operator">-></span>expon<span class="token punctuation">,</span> <span class="token operator">&amp;</span>rear<span class="token punctuation">)</span><span class="token punctuation">;</span>
			P1 <span class="token operator">=</span> P1<span class="token operator">-></span>link<span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> <span class="token comment">//P2中的数据项指数较大</span>
			<span class="token function">Attach</span><span class="token punctuation">(</span>P2<span class="token operator">-></span>coef<span class="token punctuation">,</span> P2<span class="token operator">-></span>expon<span class="token punctuation">,</span> <span class="token operator">&amp;</span>rear<span class="token punctuation">)</span><span class="token punctuation">;</span>
			P2 <span class="token operator">=</span> P2<span class="token operator">-></span>link<span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token comment">//两数据项指数相等</span>
			sum <span class="token operator">=</span> P1<span class="token operator">-></span>coef <span class="token operator">+</span> P2<span class="token operator">-></span>coef<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>sum<span class="token punctuation">)</span> <span class="token function">Attach</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> P1<span class="token operator">-></span>expon<span class="token punctuation">,</span> <span class="token operator">&amp;</span>rear<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//注意判断系数和是否为0</span>
			P1 <span class="token operator">=</span> P1<span class="token operator">-></span>link<span class="token punctuation">;</span>
			P2 <span class="token operator">=</span> P2<span class="token operator">-></span>link<span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token comment">/* 将未处理完的另一个多项式的所有节点依次复制到结果多项式中去 */</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> P1<span class="token punctuation">;</span> P1 <span class="token operator">=</span> P1<span class="token operator">-></span>link<span class="token punctuation">)</span> <span class="token function">Attach</span><span class="token punctuation">(</span>P1<span class="token operator">-></span>coef<span class="token punctuation">,</span> P1<span class="token operator">-></span>expon<span class="token punctuation">,</span> <span class="token operator">&amp;</span>rear<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> P2<span class="token punctuation">;</span> P2 <span class="token operator">=</span> P2<span class="token operator">-></span>link<span class="token punctuation">)</span> <span class="token function">Attach</span><span class="token punctuation">(</span>P2<span class="token operator">-></span>coef<span class="token punctuation">,</span> P2<span class="token operator">-></span>expon<span class="token punctuation">,</span> <span class="token operator">&amp;</span>rear<span class="token punctuation">)</span><span class="token punctuation">;</span>
	rear<span class="token operator">-></span>link <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	temp <span class="token operator">=</span> front<span class="token punctuation">;</span>
	front <span class="token operator">=</span> front<span class="token operator">-></span>link<span class="token punctuation">;</span> <span class="token comment">/*令front指向结果多项式第一个非零项 */</span>
	<span class="token function">free</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 释放临时空表头结点 */</span>
	<span class="token keyword">return</span> front<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">void</span> <span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">int</span> c<span class="token punctuation">,</span> <span class="token keyword">int</span> e<span class="token punctuation">,</span> Polynomial<span class="token operator">*</span> pRear<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> 
	<span class="token comment">/* 由于在本函数中需要改变当前结果表达式尾项指针的值， */</span>
	<span class="token comment">/* 所以函数传递进来的是结点指针的地址， *pRear指向尾项*/</span>
	Polynomial P<span class="token punctuation">;</span>
	P <span class="token operator">=</span> <span class="token punctuation">(</span>Polynomial<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">PolyNode</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 申请新结点 */</span>
	P<span class="token operator">-></span>coef <span class="token operator">=</span> c<span class="token punctuation">;</span> <span class="token comment">/* 对新结点赋值 */</span>
	P<span class="token operator">-></span>expon <span class="token operator">=</span> e<span class="token punctuation">;</span>
	P<span class="token operator">-></span>link <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token comment">/* 将P指向的新结点插入到当前结果表达式尾项的后面 */</span>
	<span class="token punctuation">(</span><span class="token operator">*</span>pRear<span class="token punctuation">)</span><span class="token operator">-></span>link <span class="token operator">=</span> P<span class="token punctuation">;</span>
	<span class="token operator">*</span>pRear <span class="token operator">=</span> P<span class="token punctuation">;</span> <span class="token comment">/* 修改pRear值 */</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="代码模板"><a href="#代码模板" class="headerlink" title="代码模板"></a>代码模板</h2><h3 id="线性表数组实现"><a href="#线性表数组实现" class="headerlink" title="线性表数组实现"></a>线性表数组实现</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#define MAXSIZE 1000
typedef int ElementType;
typedef int Position;
typedef struct LNode *List;
struct LNode &#123;
    ElementType Data[MAXSIZE];
    Position Last;
&#125;;

&#x2F;* 初始化 *&#x2F;
List MakeEmpty() &#123;
    List L;

    L &#x3D; (List)malloc(sizeof(struct LNode));
    L-&gt;Last &#x3D; -1;

    return L;
&#125;

&#x2F;* 查找 *&#x2F;
#define ERROR -1

Position Find(List L, ElementType X) &#123;
    Position i &#x3D; 0;

    while (i &lt;&#x3D; L-&gt;Last &amp;&amp; L-&gt;Data[i] !&#x3D; X) i++;
    if (i &gt; L-&gt;Last)
        return ERROR; &#x2F;* 如果没找到，返回错误信息 *&#x2F;
    else
        return i; &#x2F;* 找到后返回的是存储位置 *&#x2F;
&#125;

&#x2F;* 插入 *&#x2F;
&#x2F;*注意:在插入位置参数P上与课程视频有所不同，课程视频中i是序列位序（从1开始），
这里P是存储下标位置（从0开始），两者差1*&#x2F;
bool Insert(List L, ElementType X, Position P) &#123;
    &#x2F;* 在L的指定位置P前插入一个新元素X *&#x2F;
    Position i;

    if (L-&gt;Last &#x3D;&#x3D; MAXSIZE - 1) &#123;
        &#x2F;* 表空间已满，不能插入 *&#x2F;
        printf(&quot;表满&quot;);
        return false;
    &#125;
    if (P &lt; 0 || P &gt; L-&gt;Last + 1) &#123; &#x2F;* 检查插入位置的合法性 *&#x2F;
        printf(&quot;位置不合法&quot;);
        return false;
    &#125;
    for (i &#x3D; L-&gt;Last; i &gt;&#x3D; P; i--)
        L-&gt;Data[i + 1] &#x3D; L-&gt;Data[i]; &#x2F;* 将位置P及以后的元素顺序向后移动 *&#x2F;
    L-&gt;Data[P] &#x3D; X;                  &#x2F;* 新元素插入 *&#x2F;
    L-&gt;Last++;                       &#x2F;* Last仍指向最后元素 *&#x2F;
    return true;
&#125;

&#x2F;* 删除 *&#x2F;
&#x2F;*注意:在删除位置参数P上与课程视频有所不同，课程视频中i是序列位序（从1开始），
这里P是存储下标位置（从0开始），两者差1*&#x2F;
bool Delete(List L, Position P) &#123; &#x2F;* 从L中删除指定位置P的元素 *&#x2F;
    Position i;

    if (P &lt; 0 || P &gt; L-&gt;Last) &#123; &#x2F;* 检查空表及删除位置的合法性 *&#x2F;
        printf(&quot;位置%d不存在元素&quot;, P);
        return false;
    &#125;
    for (i &#x3D; P + 1; i &lt;&#x3D; L-&gt;Last; i++)
        L-&gt;Data[i - 1] &#x3D; L-&gt;Data[i]; &#x2F;* 将位置P+1及以后的元素顺序向前移动 *&#x2F;
    L-&gt;Last--;                       &#x2F;* Last仍指向最后元素 *&#x2F;
    return true;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="表的链式结构实现"><a href="#表的链式结构实现" class="headerlink" title="表的链式结构实现"></a>表的链式结构实现</h2><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">typedef int ElementType;
typedef struct LNode *PtrToLNode;
struct LNode &#123;
    ElementType Data;
    PtrToLNode Next;
&#125;;
typedef PtrToLNode Position;
typedef PtrToLNode List;

&#x2F;* 查找 *&#x2F;
#define ERROR NULL

Position Find(List L, ElementType X) &#123;
    Position p &#x3D; L; &#x2F;* p指向L的第1个结点 *&#x2F;

    while (p &amp;&amp; p-&gt;Data !&#x3D; X) p &#x3D; p-&gt;Next;

    &#x2F;* 下列语句可以用 return p; 替换 *&#x2F;
    if (p)
        return p;
    else
        return ERROR;
&#125;

&#x2F;* 带头结点的插入 *&#x2F;
&#x2F;*注意:在插入位置参数P上与课程视频有所不同，课程视频中i是序列位序（从1开始），
这里P是链表结点指针，在P之前插入新结点 *&#x2F;
bool Insert(List L, ElementType X, Position P) &#123; &#x2F;* 这里默认L有头结点 *&#x2F;
    Position tmp, pre;

    &#x2F;* 查找P的前一个结点 *&#x2F;
    for (pre &#x3D; L; pre &amp;&amp; pre-&gt;Next !&#x3D; P; pre &#x3D; pre-&gt;Next)
        ;
    if (pre &#x3D;&#x3D; NULL) &#123; &#x2F;* P所指的结点不在L中 *&#x2F;
        printf(&quot;插入位置参数错误\n&quot;);
        return false;
    &#125; else &#123; &#x2F;* 找到了P的前一个结点pre *&#x2F;
        &#x2F;* 在P前插入新结点 *&#x2F;
        tmp &#x3D; (Position)malloc(sizeof(struct LNode)); &#x2F;* 申请、填装结点 *&#x2F;
        tmp-&gt;Data &#x3D; X;
        tmp-&gt;Next &#x3D; P;
        pre-&gt;Next &#x3D; tmp;
        return true;
    &#125;
&#125;

&#x2F;* 带头结点的删除 *&#x2F;
&#x2F;*注意:在删除位置参数P上与课程视频有所不同，课程视频中i是序列位序（从1开始），
这里P是拟删除结点指针 *&#x2F;
bool Delete(List L, Position P) &#123; &#x2F;* 这里默认L有头结点 *&#x2F;
    Position pre;

    &#x2F;* 查找P的前一个结点 *&#x2F;
    for (pre &#x3D; L; pre &amp;&amp; pre-&gt;Next !&#x3D; P; pre &#x3D; pre-&gt;Next)
        ;
    if (pre &#x3D;&#x3D; NULL || P &#x3D;&#x3D; NULL) &#123; &#x2F;* P所指的结点不在L中 *&#x2F;
        printf(&quot;删除位置参数错误\n&quot;);
        return false;
    &#125; else &#123; &#x2F;* 找到了P的前一个结点pre *&#x2F;
        &#x2F;* 将P位置的结点删除 *&#x2F;
        pre-&gt;Next &#x3D; P-&gt;Next;
        free(P);
        return true;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="堆栈数组实现"><a href="#堆栈数组实现" class="headerlink" title="堆栈数组实现"></a>堆栈数组实现</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#define MAXSIZE 1000
#define ERROR -1
typedef int ElementType;
typedef int Position;
struct SNode &#123;
    ElementType *Data; &#x2F;* 存储元素的数组 *&#x2F;
    Position Top;      &#x2F;* 栈顶指针 *&#x2F;
    int MaxSize;       &#x2F;* 堆栈最大容量 *&#x2F;
&#125;;
typedef struct SNode *Stack;

Stack CreateStack(int MaxSize) &#123;
    Stack S &#x3D; (Stack)malloc(sizeof(struct SNode));
    S-&gt;Data &#x3D; (ElementType *)malloc(MaxSize * sizeof(ElementType));
    S-&gt;Top &#x3D; -1;
    S-&gt;MaxSize &#x3D; MaxSize;
    return S;
&#125;

bool IsFull(Stack S) &#123;
    return (S-&gt;Top &#x3D;&#x3D; S-&gt;MaxSize - 1);
&#125;

bool Push(Stack S, ElementType X) &#123;
    if (IsFull(S)) &#123;
        printf(&quot;堆栈满&quot;);
        return false;
    &#125; else &#123;
        S-&gt;Data[++(S-&gt;Top)] &#x3D; X;
        return true;
    &#125;
&#125;

bool IsEmpty(Stack S) &#123;
    return (S-&gt;Top &#x3D;&#x3D; -1);
&#125;

ElementType Pop(Stack S) &#123;
    if (IsEmpty(S)) &#123;
        printf(&quot;堆栈空&quot;);
        return ERROR; &#x2F;* ERROR是ElementType的特殊值，标志错误 *&#x2F;
    &#125; else
        return (S-&gt;Data[(S-&gt;Top)--]);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="堆栈链式实现"><a href="#堆栈链式实现" class="headerlink" title="堆栈链式实现"></a>堆栈链式实现</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#define ERROR NULL
typedef int ElementType;
typedef struct SNode *PtrToSNode;
struct SNode &#123;
    ElementType Data;
    PtrToSNode Next;
&#125;;
typedef PtrToSNode Stack;

Stack CreateStack() &#123; &#x2F;* 构建一个堆栈的头结点，返回该结点指针 *&#x2F;
    Stack S;

    S &#x3D; (Stack)malloc(sizeof(struct SNode));
    S-&gt;Next &#x3D; NULL;
    return S;
&#125;

bool IsEmpty(Stack S) &#123; &#x2F;* 判断堆栈S是否为空，若是返回true；否则返回false *&#x2F;
    return (S-&gt;Next &#x3D;&#x3D; NULL);
&#125;

bool Push(Stack S, ElementType X) &#123; &#x2F;* 将元素X压入堆栈S *&#x2F;
    PtrToSNode TmpCell;

    TmpCell &#x3D; (PtrToSNode)malloc(sizeof(struct SNode));
    TmpCell-&gt;Data &#x3D; X;
    TmpCell-&gt;Next &#x3D; S-&gt;Next;
    S-&gt;Next &#x3D; TmpCell;
    return true;
&#125;

ElementType Pop(Stack S) &#123; &#x2F;* 删除并返回堆栈S的栈顶元素 *&#x2F;
    PtrToSNode FirstCell;
    ElementType TopElem;

    if (IsEmpty(S)) &#123;
        printf(&quot;堆栈空&quot;);
        return ERROR;
    &#125; else &#123;
        FirstCell &#x3D; S-&gt;Next;
        TopElem &#x3D; FirstCell-&gt;Data;
        S-&gt;Next &#x3D; FirstCell-&gt;Next;
        free(FirstCell);
        return TopElem;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="队列数组实现"><a href="#队列数组实现" class="headerlink" title="队列数组实现"></a>队列数组实现</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#define MAXSIZE 1000
#define ERROR -1
typedef int ElementType;
typedef int Position;
struct QNode &#123;
    ElementType *Data;    &#x2F;* 存储元素的数组 *&#x2F;
    Position Front, Rear; &#x2F;* 队列的头、尾指针 *&#x2F;
    int MaxSize;          &#x2F;* 队列最大容量 *&#x2F;
&#125;;
typedef struct QNode *Queue;

Queue CreateQueue(int MaxSize) &#123;
    Queue Q &#x3D; (Queue)malloc(sizeof(struct QNode));
    Q-&gt;Data &#x3D; (ElementType *)malloc(MaxSize * sizeof(ElementType));
    Q-&gt;Front &#x3D; Q-&gt;Rear &#x3D; 0;
    Q-&gt;MaxSize &#x3D; MaxSize;
    return Q;
&#125;

bool IsFull(Queue Q) &#123;
    return ((Q-&gt;Rear + 1) % Q-&gt;MaxSize &#x3D;&#x3D; Q-&gt;Front);
&#125;

bool AddQ(Queue Q, ElementType X) &#123;
    if (IsFull(Q)) &#123;
        printf(&quot;队列满&quot;);
        return false;
    &#125; else &#123;
        Q-&gt;Rear &#x3D; (Q-&gt;Rear + 1) % Q-&gt;MaxSize;
        Q-&gt;Data[Q-&gt;Rear] &#x3D; X;
        return true;
    &#125;
&#125;

bool IsEmpty(Queue Q) &#123;
    return (Q-&gt;Front &#x3D;&#x3D; Q-&gt;Rear);
&#125;

ElementType DeleteQ(Queue Q) &#123;
    if (IsEmpty(Q)) &#123;
        printf(&quot;队列空&quot;);
        return ERROR;
    &#125; else &#123;
        Q-&gt;Front &#x3D; (Q-&gt;Front + 1) % Q-&gt;MaxSize;
        return Q-&gt;Data[Q-&gt;Front];
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="队列链式实现"><a href="#队列链式实现" class="headerlink" title="队列链式实现"></a>队列链式实现</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#define ERROR NULL
typedef int ElementType;
typedef struct Node *PtrToNode;
struct Node &#123; &#x2F;* 队列中的结点 *&#x2F;
    ElementType Data;
    PtrToNode Next;
&#125;;
typedef PtrToNode Position;

struct QNode &#123;
    Position Front, Rear; &#x2F;* 队列的头、尾指针 *&#x2F;
    int MaxSize;          &#x2F;* 队列最大容量 *&#x2F;
&#125;;
typedef struct QNode *Queue;

bool IsEmpty(Queue Q) &#123;
    return (Q-&gt;Front &#x3D;&#x3D; NULL);
&#125;

ElementType DeleteQ(Queue Q) &#123;
    Position FrontCell;
    ElementType FrontElem;

    if (IsEmpty(Q)) &#123;
        printf(&quot;队列空&quot;);
        return ERROR;
    &#125; else &#123;
        FrontCell &#x3D; Q-&gt;Front;
        if (Q-&gt;Front &#x3D;&#x3D; Q-&gt;Rear)       &#x2F;* 若队列只有一个元素 *&#x2F;
            Q-&gt;Front &#x3D; Q-&gt;Rear &#x3D; NULL; &#x2F;* 删除后队列置为空 *&#x2F;
        else
            Q-&gt;Front &#x3D; Q-&gt;Front-&gt;Next;
        FrontElem &#x3D; FrontCell-&gt;Data;

        free(FrontCell); &#x2F;* 释放被删除结点空间  *&#x2F;
        return FrontElem;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="编程习题"><a href="#编程习题" class="headerlink" title="编程习题"></a>编程习题</h2><h3 id="1-两个有序链表序列的合并"><a href="#1-两个有序链表序列的合并" class="headerlink" title="1.两个有序链表序列的合并"></a><a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/434/problems/5803">1.两个有序链表序列的合并</a></h3><p>本题要求实现一个函数，将两个链表表示的递增整数序列合并为一个非递减的整数序列。</p>
<h4 id="函数接口定义："><a href="#函数接口定义：" class="headerlink" title="函数接口定义："></a>函数接口定义：</h4><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">List Merge( List L1, List L2 );<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>其中<code>List</code>结构定义如下：</p>
<pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">typedef struct Node *PtrToNode;
struct Node &#123;
    ElementType Data; &#x2F;* 存储结点数据 *&#x2F;
    PtrToNode   Next; &#x2F;* 指向下一个结点的指针 *&#x2F;
&#125;;
typedef PtrToNode List; &#x2F;* 定义单链表类型 *&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>L1</code>和<code>L2</code>是给定的带头结点的单链表，其结点存储的数据是递增有序的；函数<code>Merge</code>要将<code>L1</code>和<code>L2</code>合并为一个非递减的整数序列。应直接使用原序列中的结点，返回归并后的带头结点的链表头指针。</p>
<h4 id="裁判测试程序样例："><a href="#裁判测试程序样例：" class="headerlink" title="裁判测试程序样例："></a>裁判测试程序样例：</h4><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

typedef int ElementType;
typedef struct Node *PtrToNode;
struct Node &#123;
    ElementType Data;
    PtrToNode   Next;
&#125;;
typedef PtrToNode List;

List Read(); &#x2F;* 细节在此不表 *&#x2F;
void Print( List L ); &#x2F;* 细节在此不表；空链表将输出NULL *&#x2F;

List Merge( List L1, List L2 );

int main()
&#123;
    List L1, L2, L;
    L1 &#x3D; Read();
    L2 &#x3D; Read();
    L &#x3D; Merge(L1, L2);
    Print(L);
    Print(L1);
    Print(L2);
    return 0;
&#125;

&#x2F;* 你的代码将被嵌在这里 *&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="输入样例："><a href="#输入样例：" class="headerlink" title="输入样例："></a>输入样例：</h4><pre class="line-numbers language-in" data-language="in"><code class="language-in">3
1 3 5
5
2 4 6 8 10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="输出样例："><a href="#输出样例：" class="headerlink" title="输出样例："></a>输出样例：</h4><pre class="line-numbers language-out" data-language="out"><code class="language-out">1 2 3 4 5 6 8 10 
NULL
NULL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p>类似多项式加法，注意直接用原来L1和L2中节点，同时此题链表是带头结点的，小心空链表情形。</p>
<h4 id="AC-code"><a href="#AC-code" class="headerlink" title="AC code"></a>AC code</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c">List <span class="token function">Merge</span><span class="token punctuation">(</span>List L1<span class="token punctuation">,</span> List L2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    List head <span class="token operator">=</span> <span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    List old <span class="token operator">=</span> head<span class="token punctuation">,</span> Ptr1 <span class="token operator">=</span> L1<span class="token operator">-></span>Next<span class="token punctuation">,</span> Ptr2 <span class="token operator">=</span> L2<span class="token operator">-></span>Next<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>Ptr1 <span class="token operator">&amp;&amp;</span> Ptr2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Ptr1<span class="token operator">-></span>Data <span class="token operator">&lt;</span> Ptr2<span class="token operator">-></span>Data<span class="token punctuation">)</span>
            old<span class="token operator">-></span>Next <span class="token operator">=</span> Ptr1<span class="token punctuation">,</span> Ptr1 <span class="token operator">=</span> Ptr1<span class="token operator">-></span>Next<span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            old<span class="token operator">-></span>Next <span class="token operator">=</span> Ptr2<span class="token punctuation">,</span> Ptr2 <span class="token operator">=</span> Ptr2<span class="token operator">-></span>Next<span class="token punctuation">;</span>
        old <span class="token operator">=</span> old<span class="token operator">-></span>Next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>Ptr1<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        old<span class="token operator">-></span>Next <span class="token operator">=</span> Ptr1<span class="token punctuation">;</span>
        Ptr1 <span class="token operator">=</span> Ptr1<span class="token operator">-></span>Next<span class="token punctuation">;</span>
        old <span class="token operator">=</span> old<span class="token operator">-></span>Next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>Ptr2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        old<span class="token operator">-></span>Next <span class="token operator">=</span> Ptr2<span class="token punctuation">;</span>
        Ptr2 <span class="token operator">=</span> Ptr2<span class="token operator">-></span>Next<span class="token punctuation">;</span>
        old <span class="token operator">=</span> old<span class="token operator">-></span>Next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    old<span class="token operator">-></span>Next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    L1<span class="token operator">-></span>Next <span class="token operator">=</span> L2<span class="token operator">-></span>Next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> head<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<table>
<thead>
<tr>
<th>测试点</th>
<th>提示</th>
<th>结果</th>
<th>分数</th>
<th>耗时</th>
<th>内存</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>同sample，交错归并</td>
<td>答案正确</td>
<td>9</td>
<td>3 ms</td>
<td>184 KB</td>
</tr>
<tr>
<td>1</td>
<td>两个完全一样的链表</td>
<td>答案正确</td>
<td>2</td>
<td>4 ms</td>
<td>176 KB</td>
</tr>
<tr>
<td>2</td>
<td>两个空链表</td>
<td>答案正确</td>
<td>2</td>
<td>3 ms</td>
<td>192 KB</td>
</tr>
<tr>
<td>3</td>
<td>L2完全贴在L1后面</td>
<td>答案正确</td>
<td>1</td>
<td>3 ms</td>
<td>176 KB</td>
</tr>
<tr>
<td>4</td>
<td>L1完全贴在L2后面</td>
<td>答案正确</td>
<td>1</td>
<td>3 ms</td>
<td>180 KB</td>
</tr>
</tbody></table>
<h3 id="2-一元多项式的乘法与加法运算"><a href="#2-一元多项式的乘法与加法运算" class="headerlink" title="2.一元多项式的乘法与加法运算"></a><a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/434/problems/5865">2.一元多项式的乘法与加法运算</a></h3><p>设计函数分别求两个一元多项式的乘积与和。</p>
<h4 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式:"></a>输入格式:</h4><p>输入分2行，每行分别先给出多项式非零项的个数，再以指数递降方式输入一个多项式非零项系数和指数（绝对值均为不超过1000的整数）。数字间以空格分隔。</p>
<h4 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式:"></a>输出格式:</h4><p>输出分2行，分别以指数递降方式输出乘积多项式以及和多项式非零项的系数和指数。数字间以空格分隔，但结尾不能有多余空格。零多项式应输出<code>0 0</code>。</p>
<h4 id="输入样例"><a href="#输入样例" class="headerlink" title="输入样例:"></a>输入样例:</h4><pre class="line-numbers language-in" data-language="in"><code class="language-in">4 3 4 -5 2  6 1  -2 0
3 5 20  -7 4  3 1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="输出样例"><a href="#输出样例" class="headerlink" title="输出样例:"></a>输出样例:</h4><pre class="line-numbers language-out" data-language="out"><code class="language-out">15 24 -25 22 30 21 -10 20 -21 8 35 6 -33 5 14 4 -15 3 18 2 -6 1
5 20 -4 4 -5 2 9 1 -2 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h4><p>考虑利用链式结构，多项式加法如前，不赘述。</p>
<p>读入多项式时要注意要不要带头结点，注意零多项式。</p>
<p>相乘有两种方法，一是将乘法运算转化为加法运算，二是逐项插入。这里考虑逐项插入。</p>
<p>输出时注意格式，不要有多余的空格。</p>
<p>free是一个好习惯！</p>
<h4 id="AC-code-1"><a href="#AC-code-1" class="headerlink" title="AC code"></a>AC code</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Poly</span> <span class="token operator">*</span>Polynomial<span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">Poly</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> Coefficient<span class="token punctuation">;</span>
    <span class="token keyword">int</span> Exponent<span class="token punctuation">;</span>
    Polynomial Next<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token comment">// Insert在rear后面插入，并将rear指向新插入的，因此传rear地址。</span>
<span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> coe<span class="token punctuation">,</span> <span class="token keyword">int</span> exp<span class="token punctuation">,</span> Polynomial <span class="token operator">*</span>P<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    Polynomial Tmp<span class="token punctuation">;</span>
    Tmp <span class="token operator">=</span> <span class="token punctuation">(</span>Polynomial<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Poly</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Tmp<span class="token operator">-></span>Coefficient <span class="token operator">=</span> coe<span class="token punctuation">;</span>
    Tmp<span class="token operator">-></span>Exponent <span class="token operator">=</span> exp<span class="token punctuation">;</span>
    Tmp<span class="token operator">-></span>Next <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>P<span class="token punctuation">)</span><span class="token operator">-></span>Next<span class="token punctuation">;</span> <span class="token comment">//实际上是NULL</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>P<span class="token punctuation">)</span><span class="token operator">-></span>Next <span class="token operator">=</span> Tmp<span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>P<span class="token punctuation">)</span> <span class="token operator">=</span> Tmp<span class="token punctuation">;</span> <span class="token comment">// rear指向最后一项多项式</span>
<span class="token punctuation">&#125;</span>
Polynomial <span class="token function">ReadPoly</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> N<span class="token punctuation">,</span> coe<span class="token punctuation">,</span> exp<span class="token punctuation">;</span>
    Polynomial P<span class="token punctuation">,</span> Rear<span class="token punctuation">,</span> Tmp<span class="token punctuation">;</span>
    P <span class="token operator">=</span> <span class="token punctuation">(</span>Polynomial<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Poly</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    P<span class="token operator">-></span>Next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    Rear <span class="token operator">=</span> P<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>N<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>coe<span class="token punctuation">,</span> <span class="token operator">&amp;</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Insert</span><span class="token punctuation">(</span>coe<span class="token punctuation">,</span> exp<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Rear<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    Tmp <span class="token operator">=</span> P<span class="token punctuation">;</span>
    P <span class="token operator">=</span> P<span class="token operator">-></span>Next<span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>Tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> P<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
Polynomial <span class="token function">SumPolynomial</span><span class="token punctuation">(</span>Polynomial <span class="token keyword">const</span> Poly1<span class="token punctuation">,</span> Polynomial <span class="token keyword">const</span> Poly2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    Polynomial PolySum<span class="token punctuation">,</span> Rear<span class="token punctuation">,</span> Tmp<span class="token punctuation">,</span> P1<span class="token punctuation">,</span> P2<span class="token punctuation">;</span>
    PolySum <span class="token operator">=</span> <span class="token punctuation">(</span>Polynomial<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Poly</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    PolySum<span class="token operator">-></span>Next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    Rear <span class="token operator">=</span> PolySum<span class="token punctuation">;</span>
    P1 <span class="token operator">=</span> Poly1<span class="token punctuation">;</span>
    P2 <span class="token operator">=</span> Poly2<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>P1 <span class="token operator">&amp;&amp;</span> P2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//有一个加完了就结束</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>P1<span class="token operator">-></span>Exponent <span class="token operator">></span> P2<span class="token operator">-></span>Exponent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token function">Insert</span><span class="token punctuation">(</span>P1<span class="token operator">-></span>Coefficient<span class="token punctuation">,</span> P1<span class="token operator">-></span>Exponent<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Rear<span class="token punctuation">)</span><span class="token punctuation">;</span>
            P1 <span class="token operator">=</span> P1<span class="token operator">-></span>Next<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>P1<span class="token operator">-></span>Exponent <span class="token operator">&lt;</span> P2<span class="token operator">-></span>Exponent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token function">Insert</span><span class="token punctuation">(</span>P2<span class="token operator">-></span>Coefficient<span class="token punctuation">,</span> P2<span class="token operator">-></span>Exponent<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Rear<span class="token punctuation">)</span><span class="token punctuation">;</span>
            P2 <span class="token operator">=</span> P2<span class="token operator">-></span>Next<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">int</span> sum <span class="token operator">=</span> P1<span class="token operator">-></span>Coefficient <span class="token operator">+</span> P2<span class="token operator">-></span>Coefficient<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
                <span class="token function">Insert</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> P1<span class="token operator">-></span>Exponent<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Rear<span class="token punctuation">)</span><span class="token punctuation">;</span>
            P1 <span class="token operator">=</span> P1<span class="token operator">-></span>Next<span class="token punctuation">;</span>
            P2 <span class="token operator">=</span> P2<span class="token operator">-></span>Next<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> P1<span class="token punctuation">;</span> P1 <span class="token operator">=</span> P1<span class="token operator">-></span>Next<span class="token punctuation">)</span> <span class="token comment">//剩下的直接加</span>
        <span class="token function">Insert</span><span class="token punctuation">(</span>P1<span class="token operator">-></span>Coefficient<span class="token punctuation">,</span> P1<span class="token operator">-></span>Exponent<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Rear<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> P2<span class="token punctuation">;</span> P2 <span class="token operator">=</span> P2<span class="token operator">-></span>Next<span class="token punctuation">)</span>
        <span class="token function">Insert</span><span class="token punctuation">(</span>P2<span class="token operator">-></span>Coefficient<span class="token punctuation">,</span> P2<span class="token operator">-></span>Exponent<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Rear<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Tmp <span class="token operator">=</span> PolySum<span class="token punctuation">;</span>
    PolySum <span class="token operator">=</span> PolySum<span class="token operator">-></span>Next<span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>Tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//临时头结点释放</span>
    <span class="token keyword">return</span> PolySum<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
Polynomial <span class="token function">MultPolynomial</span><span class="token punctuation">(</span>Polynomial <span class="token keyword">const</span> Poly1<span class="token punctuation">,</span> Polynomial <span class="token keyword">const</span> Poly2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    Polynomial PolyMult<span class="token punctuation">,</span> Rear<span class="token punctuation">,</span> Tmp<span class="token punctuation">,</span> P1<span class="token punctuation">,</span> P2<span class="token punctuation">;</span>
    <span class="token keyword">int</span> coe<span class="token punctuation">,</span> exp<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Poly1 <span class="token operator">||</span> <span class="token operator">!</span>Poly2<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    PolyMult <span class="token operator">=</span> <span class="token punctuation">(</span>Polynomial<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Poly</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    PolyMult<span class="token operator">-></span>Next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    Rear <span class="token operator">=</span> PolyMult<span class="token punctuation">;</span>
    P1 <span class="token operator">=</span> Poly1<span class="token punctuation">;</span>
    P2 <span class="token operator">=</span> Poly2<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>P2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// P1最高项和P2相乘得到一个多项式</span>
        <span class="token function">Insert</span><span class="token punctuation">(</span>P1<span class="token operator">-></span>Coefficient <span class="token operator">*</span> P2<span class="token operator">-></span>Coefficient<span class="token punctuation">,</span> P1<span class="token operator">-></span>Exponent <span class="token operator">+</span> P2<span class="token operator">-></span>Exponent<span class="token punctuation">,</span>
               <span class="token operator">&amp;</span>Rear<span class="token punctuation">)</span><span class="token punctuation">;</span>
        P2 <span class="token operator">=</span> P2<span class="token operator">-></span>Next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    P1 <span class="token operator">=</span> P1<span class="token operator">-></span>Next<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>P1<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//逐项插入</span>
        P2 <span class="token operator">=</span> Poly2<span class="token punctuation">;</span>
        Rear <span class="token operator">=</span> PolyMult<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>P2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            coe <span class="token operator">=</span> P1<span class="token operator">-></span>Coefficient <span class="token operator">*</span> P2<span class="token operator">-></span>Coefficient<span class="token punctuation">;</span>
            exp <span class="token operator">=</span> P1<span class="token operator">-></span>Exponent <span class="token operator">+</span> P2<span class="token operator">-></span>Exponent<span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>Rear<span class="token operator">-></span>Next <span class="token operator">&amp;&amp;</span> Rear<span class="token operator">-></span>Next<span class="token operator">-></span>Exponent <span class="token operator">></span> exp<span class="token punctuation">)</span>
                Rear <span class="token operator">=</span> Rear<span class="token operator">-></span>Next<span class="token punctuation">;</span> <span class="token comment">//找到该插入的位置,rear指向前一位置</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Rear<span class="token operator">-></span>Next <span class="token operator">&amp;&amp;</span> Rear<span class="token operator">-></span>Next<span class="token operator">-></span>Exponent <span class="token operator">==</span> exp<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>Rear<span class="token operator">-></span>Next<span class="token operator">-></span>Coefficient <span class="token operator">+</span> coe<span class="token punctuation">)</span> <span class="token comment">//系数不为0</span>
                    Rear<span class="token operator">-></span>Next<span class="token operator">-></span>Coefficient <span class="token operator">+=</span> coe<span class="token punctuation">;</span>
                <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">//系数为0删除这一项</span>
                    Tmp <span class="token operator">=</span> Rear<span class="token operator">-></span>Next<span class="token punctuation">;</span>
                    Rear<span class="token operator">-></span>Next <span class="token operator">=</span> Tmp<span class="token operator">-></span>Next<span class="token punctuation">;</span>
                    <span class="token function">free</span><span class="token punctuation">(</span>Tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token function">Insert</span><span class="token punctuation">(</span>coe<span class="token punctuation">,</span> exp<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Rear<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            P2 <span class="token operator">=</span> P2<span class="token operator">-></span>Next<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        P1 <span class="token operator">=</span> P1<span class="token operator">-></span>Next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    Tmp <span class="token operator">=</span> PolyMult<span class="token punctuation">;</span>
    PolyMult <span class="token operator">=</span> PolyMult<span class="token operator">-></span>Next<span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>Tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//删除临时头结点</span>
    <span class="token keyword">return</span> PolyMult<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">void</span> <span class="token function">PrintPoly</span><span class="token punctuation">(</span>Polynomial P<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>P<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0 0\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>P<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span>
            flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//非开头打印空格</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> P<span class="token operator">-></span>Coefficient<span class="token punctuation">,</span> P<span class="token operator">-></span>Exponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        P <span class="token operator">=</span> P<span class="token operator">-></span>Next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">void</span> <span class="token function">DisposePoly</span><span class="token punctuation">(</span>Polynomial P<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    Polynomial Tmp<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>P<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Tmp <span class="token operator">=</span> P<span class="token punctuation">;</span>
        P <span class="token operator">=</span> P<span class="token operator">-></span>Next<span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>Tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    Polynomial P1<span class="token punctuation">,</span> P2<span class="token punctuation">,</span> PS<span class="token punctuation">,</span> PM<span class="token punctuation">;</span>
    P1 <span class="token operator">=</span> <span class="token function">ReadPoly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    P2 <span class="token operator">=</span> <span class="token function">ReadPoly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    PM <span class="token operator">=</span> <span class="token function">MultPolynomial</span><span class="token punctuation">(</span>P1<span class="token punctuation">,</span> P2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">PrintPoly</span><span class="token punctuation">(</span>PM<span class="token punctuation">)</span><span class="token punctuation">;</span>
    PS <span class="token operator">=</span> <span class="token function">SumPolynomial</span><span class="token punctuation">(</span>P1<span class="token punctuation">,</span> P2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">PrintPoly</span><span class="token punctuation">(</span>PS<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">DisposePoly</span><span class="token punctuation">(</span>PS<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">DisposePoly</span><span class="token punctuation">(</span>PM<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">DisposePoly</span><span class="token punctuation">(</span>P1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">DisposePoly</span><span class="token punctuation">(</span>P2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<table>
<thead>
<tr>
<th>测试点</th>
<th>提示</th>
<th>结果</th>
<th>分数</th>
<th>耗时</th>
<th>内存</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>sample换个数字</td>
<td>答案正确</td>
<td>12</td>
<td>3 ms</td>
<td>168 KB</td>
</tr>
<tr>
<td>1</td>
<td>同类项合并时有抵消</td>
<td>答案正确</td>
<td>4</td>
<td>3 ms</td>
<td>304 KB</td>
</tr>
<tr>
<td>2</td>
<td>系数和指数取上限，结果有零多项式</td>
<td>答案正确</td>
<td>2</td>
<td>3 ms</td>
<td>320 KB</td>
</tr>
<tr>
<td>3</td>
<td>输入有零多项式和常数多项式</td>
<td>答案正确</td>
<td>2</td>
<td>3 ms</td>
<td>188 KB</td>
</tr>
</tbody></table>
<h3 id="3-Reverse-Linked-List"><a href="#3-Reverse-Linked-List" class="headerlink" title="3.Reverse Linked List"></a><a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/16/problems/664">3.Reverse Linked List</a></h3><p>根据某大公司笔试题改编的2014年春季PAT真题</p>
<p>Given a constant <em>K</em> and a singly linked list <em>L</em>, you are supposed to reverse the links of every <em>K</em> elements on <em>L</em>. For example, given <em>L</em> being 1→2→3→4→5→6, if <em>K</em>=3, then you must output 3→2→1→6→5→4; if <em>K</em>=4, you must output 4→3→2→1→5→6.</p>
<h4 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h4><p>Each input file contains one test case. For each case, the first line contains the address of the first node, a positive <em>N</em> (≤105) which is the total number of nodes, and a positive <em>K</em> (≤<em>N</em>) which is the length of the sublist to be reversed. The address of a node is a 5-digit nonnegative integer, and NULL is represented by -1.</p>
<p>Then <em>N</em> lines follow, each describes a node in the format:</p>
<pre class="line-numbers language-none"><code class="language-none">Address Data Next<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>where <code>Address</code> is the position of the node, <code>Data</code> is an integer, and <code>Next</code> is the position of the next node.</p>
<h4 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h4><p>For each case, output the resulting ordered linked list. Each node occupies a line, and is printed in the same format as in the input.</p>
<h4 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h4><pre class="line-numbers language-in" data-language="in"><code class="language-in">00100 6 4
00000 4 99999
00100 1 12309
68237 6 -1
33218 3 00000
99999 5 68237
12309 2 33218<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h4><pre class="line-numbers language-out" data-language="out"><code class="language-out">00000 4 33218
33218 3 12309
12309 2 00100
00100 1 99999
99999 5 68237
68237 6 -1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h4><p>这里考虑利用三个数组，先记录下Address、Data、Next，然后将其转化为顺序表存储，再利用数组可以直接方便地逆转。</p>
<p>特别地，以下还给出一段基于链表的逆转思路</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">Ptr <span class="token function">Reverse</span><span class="token punctuation">(</span>Ptr head<span class="token punctuation">,</span> <span class="token keyword">int</span> K<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    new <span class="token operator">=</span> head<span class="token operator">-></span>next<span class="token punctuation">;</span>
    old <span class="token operator">=</span> new<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>cnt <span class="token operator">&lt;</span> K<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        tmp <span class="token operator">=</span> old<span class="token operator">-></span>next<span class="token punctuation">;</span>
        old<span class="token operator">-></span>next <span class="token operator">=</span> new<span class="token punctuation">;</span>
        new <span class="token operator">=</span> old<span class="token punctuation">;</span>
        old <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
        cnt<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    head<span class="token operator">-></span>next<span class="token operator">-></span>next <span class="token operator">=</span> old<span class="token punctuation">;</span>
    <span class="token keyword">return</span> new<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="AC-code-2"><a href="#AC-code-2" class="headerlink" title="AC code"></a>AC code</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MaxSize</span> <span class="token expression"><span class="token number">100005</span></span></span>
<span class="token keyword">int</span> Data<span class="token punctuation">[</span>MaxSize<span class="token punctuation">]</span><span class="token punctuation">,</span> Next<span class="token punctuation">[</span>MaxSize<span class="token punctuation">]</span><span class="token punctuation">,</span> Address<span class="token punctuation">[</span>MaxSize<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> FirstAdd<span class="token punctuation">,</span> N<span class="token punctuation">,</span> K<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> symbol <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">&lt;</span> <span class="token string">'0'</span> <span class="token operator">||</span> ch <span class="token operator">></span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">)</span> symbol <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span>
        num <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> symbol<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>FirstAdd<span class="token punctuation">,</span> <span class="token operator">&amp;</span>N<span class="token punctuation">,</span> <span class="token operator">&amp;</span>K<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> tmpAdd<span class="token punctuation">,</span> tmpData<span class="token punctuation">,</span> tmpNext<span class="token punctuation">;</span>
        tmpAdd <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tmpData <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tmpNext <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Data<span class="token punctuation">[</span>tmpAdd<span class="token punctuation">]</span> <span class="token operator">=</span> tmpData<span class="token punctuation">;</span>
        Next<span class="token punctuation">[</span>tmpAdd<span class="token punctuation">]</span> <span class="token operator">=</span> tmpNext<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>FirstAdd <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Address<span class="token punctuation">[</span>cnt<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> FirstAdd<span class="token punctuation">;</span>
        FirstAdd <span class="token operator">=</span> Next<span class="token punctuation">[</span>FirstAdd<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cnt <span class="token operator">-</span> cnt <span class="token operator">%</span> K<span class="token punctuation">;</span> i <span class="token operator">+=</span> K<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> K <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">int</span> t <span class="token operator">=</span> Address<span class="token punctuation">[</span>i <span class="token operator">+</span> j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            Address<span class="token punctuation">[</span>i <span class="token operator">+</span> j<span class="token punctuation">]</span> <span class="token operator">=</span> Address<span class="token punctuation">[</span>i <span class="token operator">+</span> K <span class="token operator">-</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            Address<span class="token punctuation">[</span>i <span class="token operator">+</span> K <span class="token operator">-</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cnt <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%05d %d %05d\n"</span><span class="token punctuation">,</span> Address<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> Data<span class="token punctuation">[</span>Address<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Address<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%05d %d -1\n"</span><span class="token punctuation">,</span> Address<span class="token punctuation">[</span>cnt <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Data<span class="token punctuation">[</span>Address<span class="token punctuation">[</span>cnt <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<table>
<thead>
<tr>
<th>测试点</th>
<th>提示</th>
<th>结果</th>
<th>分数</th>
<th>耗时</th>
<th>内存</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>sample 有尾巴不反转, 地址取上下界</td>
<td>答案正确</td>
<td>12</td>
<td>5 ms</td>
<td>316 KB</td>
</tr>
<tr>
<td>1</td>
<td>正好全反转</td>
<td>答案正确</td>
<td>3</td>
<td>5 ms</td>
<td>208 KB</td>
</tr>
<tr>
<td>2</td>
<td>K=N全反转</td>
<td>答案正确</td>
<td>2</td>
<td>4 ms</td>
<td>320 KB</td>
</tr>
<tr>
<td>3</td>
<td>K=1不用反转</td>
<td>答案正确</td>
<td>2</td>
<td>5 ms</td>
<td>320 KB</td>
</tr>
<tr>
<td>4</td>
<td>N=1 最小case</td>
<td>答案正确</td>
<td>2</td>
<td>4 ms</td>
<td>192 KB</td>
</tr>
<tr>
<td>5</td>
<td>最大N,最后剩K-1不反转</td>
<td>答案正确</td>
<td>3</td>
<td>35 ms</td>
<td>3132 KB</td>
</tr>
<tr>
<td>6</td>
<td>有多余结点不在链表上</td>
<td>答案正确</td>
<td>1</td>
<td>4 ms</td>
<td>320 KB</td>
</tr>
</tbody></table>
<h3 id="4-Pop-Sequence"><a href="#4-Pop-Sequence" class="headerlink" title="4.Pop Sequence"></a><a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/16/problems/665">4.Pop Sequence</a></h3><p>2013年PAT春季考试真题</p>
<p>Given a stack which can keep <em>M</em> numbers at most. Push <em>N</em> numbers in the order of 1, 2, 3, …, <em>N</em> and pop randomly. You are supposed to tell if a given sequence of numbers is a possible pop sequence of the stack. For example, if <em>M</em> is 5 and <em>N</em> is 7, we can obtain 1, 2, 3, 4, 5, 6, 7 from the stack, but not 3, 2, 1, 7, 5, 6, 4.</p>
<h4 id="Input-Specification-1"><a href="#Input-Specification-1" class="headerlink" title="Input Specification:"></a>Input Specification:</h4><p>Each input file contains one test case. For each case, the first line contains 3 numbers (all no more than 1000): <em>M</em> (the maximum capacity of the stack), <em>N</em> (the length of push sequence), and <em>K</em> (the number of pop sequences to be checked). Then <em>K</em> lines follow, each contains a pop sequence of <em>N</em> numbers. All the numbers in a line are separated by a space.</p>
<h4 id="Output-Specification-1"><a href="#Output-Specification-1" class="headerlink" title="Output Specification:"></a>Output Specification:</h4><p>For each pop sequence, print in one line “YES” if it is indeed a possible pop sequence of the stack, or “NO” if not.</p>
<h4 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input:"></a>Sample Input:</h4><pre class="line-numbers language-in" data-language="in"><code class="language-in">5 7 5
1 2 3 4 5 6 7
3 2 1 7 5 6 4
7 6 5 4 3 2 1
5 6 4 3 7 2 1
1 7 6 5 4 3 2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output:"></a>Sample Output:</h4><pre class="line-numbers language-out" data-language="out"><code class="language-out">YES
NO
NO
YES
NO<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="思路-3"><a href="#思路-3" class="headerlink" title="思路"></a>思路</h4><p>考察是否是一个堆栈的出栈序列，正常模拟堆栈即可，注意堆栈容量。</p>
<p>首先模拟正常顺序的入栈，若遇到出栈序列的数字则出栈，直至栈容量慢了或全都正常入栈，考察是否全部出栈，若全部出栈则正确，否则错误。</p>
<h4 id="AC-code-3"><a href="#AC-code-3" class="headerlink" title="AC code"></a>AC code</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXSIZE</span> <span class="token expression"><span class="token number">1001</span></span></span>
<span class="token keyword">int</span> Stack<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> m<span class="token punctuation">,</span> n<span class="token punctuation">,</span> k<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span>
            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> cur <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> top <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            Stack<span class="token punctuation">[</span>top<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> j<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>top <span class="token operator">></span> m<span class="token punctuation">)</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>top <span class="token operator">&amp;&amp;</span> Stack<span class="token punctuation">[</span>top <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> num<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token operator">--</span>top<span class="token punctuation">,</span> <span class="token operator">++</span>cur<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">==</span> n<span class="token punctuation">)</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"YES\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"NO\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<table>
<thead>
<tr>
<th>测试点</th>
<th>提示</th>
<th>结果</th>
<th>分数</th>
<th>耗时</th>
<th>内存</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>sample乱序，一般的Y&amp;N</td>
<td>答案正确</td>
<td>15</td>
<td>4 ms</td>
<td>188 KB</td>
</tr>
<tr>
<td>1</td>
<td>达到最大size后又溢出</td>
<td>答案正确</td>
<td>3</td>
<td>3 ms</td>
<td>188 KB</td>
</tr>
<tr>
<td>2</td>
<td>M==N</td>
<td>答案正确</td>
<td>2</td>
<td>3 ms</td>
<td>188 KB</td>
</tr>
<tr>
<td>3</td>
<td>最大数</td>
<td>答案正确</td>
<td>2</td>
<td>3 ms</td>
<td>192 KB</td>
</tr>
<tr>
<td>4</td>
<td>最小数</td>
<td>答案正确</td>
<td>1</td>
<td>3 ms</td>
<td>192 KB</td>
</tr>
<tr>
<td>5</td>
<td>卡特殊错误算法（通过比较大小判断）</td>
<td>答案正确</td>
<td>2</td>
<td>3 ms</td>
<td>192 KB</td>
</tr>
</tbody></table>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Phoenix</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://ysy-phoenix.github.io/2021/072949644.html">https://ysy-phoenix.github.io/2021/072949644.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Phoenix</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                                    <span class="chip bg-color">数据结构</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2021/0730301.html">
                    <div class="card-image">
                        
                        <img src="/images/s.jpg" class="responsive-img" alt="数据结构week3">
                        
                        <span class="card-title">数据结构week3</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-07-30
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" class="post-category">
                                    程序设计
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                        <span class="chip bg-color">数据结构</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/072849324.html">
                    <div class="card-image">
                        
                        <img src="/images/d.jpg" class="responsive-img" alt="数据结构week1">
                        
                        <span class="card-title">数据结构week1</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-07-28
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" class="post-category">
                                    程序设计
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                        <span class="chip bg-color">数据结构</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: Phoenix<br />'
            + '文章作者: Phoenix<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.8/unpacked/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>



    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="5387555352"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021</span>
            
            <span id="year">2021</span>
            <a href="/about" target="_blank">Phoenix</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">114.9k</span>&nbsp;字
            
            
            
            
            
          
    <span id="busuanzi_container_site_pv" style='display:none'>
        <i class="fa fa-heart-o"></i>
        本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
    </span>


    <span id="busuanzi_container_site_uv" style='display:none'>
        人次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
    </span>

            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2021";
                    var startMonth = "4";
                    var startDate = "3";
                    var startHour = "19";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/ysy-phoenix" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:2433449772@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2433449772" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2433449772" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    
    <script src="/js/sakura.js">
    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"/>
<script src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/autoload.js"></script>
    <script src="/js/prism.js">
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script><!-- hexo-inject:begin --><!-- hexo-inject:end --></body>

</html>
