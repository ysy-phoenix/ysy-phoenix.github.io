<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="keywords" content="数据结构week9, Phoenix">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>数据结构week9 | Phoenix</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>




<!-- 动态标题 -->
  <script type="text/javascript"> var OriginTitile = document.title, st; 
      document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) }) </script>
        



<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Phoenix</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Phoenix</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #F062A7;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>
  <!-- 今日诗词特效 -->
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>


</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/images/y.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">数据结构week9</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                                <span class="chip bg-color">数据结构</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" class="post-category">
                                程序设计
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-08-05
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2021-08-05
                </div>
                

                
                <div class="info-break-policy">
	    
    <i class="fa fa-pencil"></i> 作者: Phoenix
    
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    6.5k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    33 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Week9排序（上）"><a href="#Week9排序（上）" class="headerlink" title="Week9排序（上）"></a>Week9排序（上）</h1><h2 id="9-1-简单排序"><a href="#9-1-简单排序" class="headerlink" title="9.1 简单排序"></a>9.1 简单排序</h2><h3 id="前-提"><a href="#前-提" class="headerlink" title="前 提"></a>前 提</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">X_Sort</span> <span class="token punctuation">(</span> ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>大多数情况下，为简单起见，讨论从小大的整数排序</p>
<ul>
<li>N是正整数</li>
<li>只讨论基于比较的排序（ &gt; = &lt; 有定义）</li>
<li>只讨论内部排序</li>
<li>稳定性：任意两个相等的数据，排序前后的相对位置不发生改变</li>
<li>没有一种排序是任何情况下都表现最好的  </li>
</ul>
<h3 id="简单排序"><a href="#简单排序" class="headerlink" title="简单排序"></a>简单排序</h3><h4 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Bubble_Sort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>P <span class="token operator">=</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> P <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> P<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> P<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 一趟冒泡 */</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> A<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token function">Swap</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> A<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">/* 标识发生了交换 */</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">/* 全程无交换 */</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>最好情况：顺序 $T = O( N )$</p>
<p>最坏情况：逆序 $T = O( N^2 )$</p>
<p>稳定！</p>
<h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Insertion_Sort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>P <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> P <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> P<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Tmp <span class="token operator">=</span> A<span class="token punctuation">[</span>P<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 摸下一张牌 */</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> P<span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> Tmp<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
            A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 移出空位 */</span>
        A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Tmp<span class="token punctuation">;</span>          <span class="token comment">/* 新牌落位 */</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>最好情况：顺序 $T = O( N )$</p>
<p>最坏情况：逆序 $T = O( N^2 )$</p>
<p>稳定！</p>
<h3 id="时间复杂度下界"><a href="#时间复杂度下界" class="headerlink" title="时间复杂度下界"></a>时间复杂度下界</h3><p>对于下标$i&lt;j$，如果$A[i]&gt;A[j]$，则称$(i,j)$是一对逆序对$(inversion)$</p>
<p>问题：序列{34, 8, 64, 51, 32, 21}中有多少逆序对？</p>
<p>交换2个相邻元素正好消去1个逆序对！</p>
<p>$(34, 8) (34, 32) (34, 21) (64, 51) (64, 32) (64, 21) (51, 32) (51, 21) (32, 21)  $</p>
<p>插入排序： $T(N, I) = O( N+I )$</p>
<p>— 如果序列<strong>基本有序</strong>，则插入排序简单且高效  </p>
<p>定理：任意N个不同元素组成的序列平均具有$N ( N - 1 ) / 4$ 个逆序对。</p>
<p>定理：任何仅以交换相邻两元素来排序的算法，其平均时间复杂度为 $\Omega ( N^2 )$ 。</p>
<p>这意味着：要提高算法效率，我们必须</p>
<ul>
<li>每次消去不止1个逆序对！</li>
<li>每次交换相隔较远的2个元素！  </li>
</ul>
<h2 id="9-2-希尔排序（-by-Donald-Shell-）"><a href="#9-2-希尔排序（-by-Donald-Shell-）" class="headerlink" title="9.2 希尔排序（ by Donald Shell ）"></a>9.2 希尔排序（ by Donald Shell ）</h2><h3 id="举个例子"><a href="#举个例子" class="headerlink" title="举个例子"></a>举个例子</h3><table>
<thead>
<tr>
<th>间隔</th>
<th>81</th>
<th>94</th>
<th>11</th>
<th>96</th>
<th>12</th>
<th>35</th>
<th>17</th>
<th>95</th>
<th>28</th>
<th>58</th>
<th>41</th>
<th>75</th>
<th>15</th>
</tr>
</thead>
<tbody><tr>
<td>5-间隔</td>
<td>35</td>
<td>17</td>
<td>11</td>
<td>28</td>
<td>12</td>
<td>41</td>
<td>75</td>
<td>15</td>
<td>96</td>
<td>58</td>
<td>81</td>
<td>94</td>
<td>95</td>
</tr>
<tr>
<td>3-间隔</td>
<td>28</td>
<td>12</td>
<td>11</td>
<td>35</td>
<td>15</td>
<td>41</td>
<td>58</td>
<td>17</td>
<td>94</td>
<td>75</td>
<td>81</td>
<td>96</td>
<td>95</td>
</tr>
<tr>
<td>1-间隔</td>
<td>11</td>
<td>12</td>
<td>15</td>
<td>17</td>
<td>28</td>
<td>35</td>
<td>41</td>
<td>58</td>
<td>75</td>
<td>81</td>
<td>94</td>
<td>95</td>
<td>96</td>
</tr>
</tbody></table>
<p>定义增量序列 $D_M &gt; D_{M-1} &gt; … &gt; D_1 = 1$</p>
<p>对每个 $D_k$ 进行“$D_k$-间隔”排序$( k = M, M-1, … 1 )$</p>
<p>注意： “$D_k$-间隔”有序的序列，在执行“$D_{k-1}$-间隔”排序后，仍然是“$D_k$​-间隔”有序的  </p>
<h3 id="希尔增量序列"><a href="#希尔增量序列" class="headerlink" title="希尔增量序列"></a>希尔增量序列</h3><p>原始希尔排序 $D_M = \lfloor N / 2\rfloor , D_k = \lfloor D_{k+1} / 2 \rfloor$</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Shell_sort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>D <span class="token operator">=</span> N <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> D <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> D <span class="token operator">/=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 希尔增量序列 */</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>P <span class="token operator">=</span> D<span class="token punctuation">;</span> P <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> P<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/* 插入排序 */</span>
            Tmp <span class="token operator">=</span> A<span class="token punctuation">[</span>P<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> P<span class="token punctuation">;</span> i <span class="token operator">>=</span> D <span class="token operator">&amp;&amp;</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> D<span class="token punctuation">]</span> <span class="token operator">></span> Tmp<span class="token punctuation">;</span> i <span class="token operator">-=</span> D<span class="token punctuation">)</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> D<span class="token punctuation">]</span><span class="token punctuation">;</span>
            A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Tmp<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>最坏情况： $T =\Theta ( N2 ) $ </p>
<h3 id="举个坏例子"><a href="#举个坏例子" class="headerlink" title="举个坏例子"></a>举个坏例子</h3><table>
<thead>
<tr>
<th>间隔</th>
<th>1</th>
<th>9</th>
<th>2</th>
<th>10</th>
<th>3</th>
<th>11</th>
<th>4</th>
<th>12</th>
<th>5</th>
<th>13</th>
<th>6</th>
<th>14</th>
<th>7</th>
<th>15</th>
<th>8</th>
<th>16</th>
</tr>
</thead>
<tbody><tr>
<td>8-间隔</td>
<td>1</td>
<td>9</td>
<td>2</td>
<td>10</td>
<td>3</td>
<td>11</td>
<td>4</td>
<td>12</td>
<td>5</td>
<td>13</td>
<td>6</td>
<td>14</td>
<td>7</td>
<td>15</td>
<td>8</td>
<td>16</td>
</tr>
<tr>
<td>4-间隔</td>
<td>1</td>
<td>9</td>
<td>2</td>
<td>10</td>
<td>3</td>
<td>11</td>
<td>4</td>
<td>12</td>
<td>5</td>
<td>13</td>
<td>6</td>
<td>14</td>
<td>7</td>
<td>15</td>
<td>8</td>
<td>16</td>
</tr>
<tr>
<td>2-间隔</td>
<td>1</td>
<td>9</td>
<td>2</td>
<td>10</td>
<td>3</td>
<td>11</td>
<td>4</td>
<td>12</td>
<td>5</td>
<td>13</td>
<td>6</td>
<td>14</td>
<td>7</td>
<td>15</td>
<td>8</td>
<td>16</td>
</tr>
<tr>
<td>1-间隔</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8</td>
<td>9</td>
<td>10</td>
<td>11</td>
<td>12</td>
<td>13</td>
<td>14</td>
<td>15</td>
<td>16</td>
</tr>
</tbody></table>
<p><strong>增量元素不互质，则小增量可能根本不起作用。</strong>  </p>
<h3 id="更多增量序列"><a href="#更多增量序列" class="headerlink" title="更多增量序列"></a>更多增量序列</h3><p>$Hibbard $增量序列  </p>
<p>$D_k = 2^k – 1$ — 相邻元素互质</p>
<p>最坏情况： $T = \Theta ( N^{3/2} )$</p>
<p>猜想： $T_{avg} = O ( N^{5/4} )  $</p>
<p>$Sedgewick$增量序列  </p>
<p>{1, 5, 19, 41, 109, … }— $9\times 4^i – 9\times2^i + 1 $或$ 4^i – 3\times 2^i + 1$</p>
<p>猜想：$ T_{avg} = O ( N^{7/6} )， T_{worst} = O ( N^{4/3} )$  </p>
<h2 id="9-3-堆排序"><a href="#9-3-堆排序" class="headerlink" title="9.3 堆排序"></a>9.3 堆排序</h2><h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Selection_Sort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        MinPosition <span class="token operator">=</span> <span class="token function">ScanForMin</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> i<span class="token punctuation">,</span> N–<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/* 从A[i]到A[N–1]中找最小元，并将其位置赋给MinPosition */</span>
        <span class="token function">Swap</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> A<span class="token punctuation">[</span>MinPosition<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/* 将未排序部分的最小元换到有序部分的最后位置 */</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>无论如何： $T = \Theta( N^2 )$</p>
<p><strong>如何快速找到最小元？？？</strong>  </p>
<h3 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h3><h4 id="算法1"><a href="#算法1" class="headerlink" title="算法1"></a>算法1</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Heap_Sort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">BuildHeap</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span>                                   <span class="token comment">/* O(N) */</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> TmpA<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">DeleteMin</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* O(logN) */</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>                         <span class="token comment">/* O(N) */</span>
        A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> TmpA<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>$T ( N ) = O ( N log N )  $</p>
<p><strong>需要额外O(N)空间，并且复制元素需要时间。</strong>  </p>
<h4 id="算法2"><a href="#算法2" class="headerlink" title="算法2"></a>算法2</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Heap_Sort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> N <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token comment">/* BuildHeap */</span>
        <span class="token function">PercDown</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> i<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>A<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* DeleteMax */</span>
        <span class="token function">PercDown</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>定理：堆排序处理N个不同元素的随机排列的平均比较次数是$2N logN - O(Nlog logN) $。</p>
<p>虽然堆排序给出最佳平均时间复杂度，但实际效果不如用$Sedgewick$增量序列的希尔排序。  </p>
<h2 id="9-4-归并排序"><a href="#9-4-归并排序" class="headerlink" title="9.4 归并排序"></a>9.4 归并排序</h2><h3 id="核心：有序子列的归并"><a href="#核心：有序子列的归并" class="headerlink" title="核心：有序子列的归并"></a>核心：有序子列的归并</h3><p>如果两个子列一共有N个元素，则归并的时间复杂度是？<br>$$<br>T ( N ) = O( N )<br>$$</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/* L = 左边起始位置, R = 右边起始位置, RightEnd = 右边终点位置 */</span>
<span class="token keyword">void</span> <span class="token function">Merge</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ElementType TmpA<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> L<span class="token punctuation">,</span> <span class="token keyword">int</span> R<span class="token punctuation">,</span> <span class="token keyword">int</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    LeftEnd <span class="token operator">=</span> R <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">/* 左边终点位置。假设左右两列挨着 */</span>
    Tmp <span class="token operator">=</span> L<span class="token punctuation">;</span>         <span class="token comment">/* 存放结果的数组的初始位置 */</span>
    NumElements <span class="token operator">=</span> RightEnd <span class="token operator">-</span> L <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>L <span class="token operator">&lt;=</span> LeftEnd <span class="token operator">&amp;&amp;</span> R <span class="token operator">&lt;=</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>L<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> A<span class="token punctuation">[</span>R<span class="token punctuation">]</span><span class="token punctuation">)</span>
            TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>L<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>R<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>L <span class="token operator">&lt;=</span> LeftEnd<span class="token punctuation">)</span> <span class="token comment">/* 直接复制左边剩下的 */</span>
        TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>L<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>R <span class="token operator">&lt;=</span> RightEnd<span class="token punctuation">)</span> <span class="token comment">/*直接复制右边剩下的 */</span>
        TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>R<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> NumElements<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> RightEnd<span class="token operator">--</span><span class="token punctuation">)</span> A<span class="token punctuation">[</span>RightEnd<span class="token punctuation">]</span> <span class="token operator">=</span> TmpA<span class="token punctuation">[</span>RightEnd<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="递归算法"><a href="#递归算法" class="headerlink" title="递归算法"></a>递归算法</h3><p>分而治之，稳定！</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">MSort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ElementType TmpA<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> L<span class="token punctuation">,</span> <span class="token keyword">int</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> Center<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>L <span class="token operator">&lt;</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Center <span class="token operator">=</span> <span class="token punctuation">(</span>L <span class="token operator">+</span> RightEnd<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token function">MSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> L<span class="token punctuation">,</span> Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">MSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> Center <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> RightEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Merge</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> L<span class="token punctuation">,</span> Center <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> RightEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>$T( N ) = T( N/2 ) + T( N/2 ) + O( N )\rightarrow T( N ) = O( N logN )  $​</p>
<p><strong>统一函数接口</strong>  </p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Merge_sort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    ElementType <span class="token operator">*</span>TmpA<span class="token punctuation">;</span>
    TmpA <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span>N <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>TmpA <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">MSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>TmpA<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token function">Error</span><span class="token punctuation">(</span> <span class="token string">"空间不足"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果只在Merge中声明临时数组</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Merge</span><span class="token punctuation">(</span> ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> L<span class="token punctuation">,</span> <span class="token keyword">int</span> R<span class="token punctuation">,</span> <span class="token keyword">int</span> RightEnd <span class="token punctuation">)</span>
<span class="token keyword">void</span> <span class="token function">MSort</span><span class="token punctuation">(</span> ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> L<span class="token punctuation">,</span> <span class="token keyword">int</span> RightEnd <span class="token punctuation">)</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="非递归算法"><a href="#非递归算法" class="headerlink" title="非递归算法"></a>非递归算法</h3><p><strong>额外空间复杂度是???</strong> $O( N )$</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Merge_pass</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ElementType TmpA<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span>
<span class="token comment">/* length = 当前有序子列的长度 */</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> N–<span class="token number">2</span> <span class="token operator">*</span> length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span> <span class="token operator">*</span> length<span class="token punctuation">)</span>
        <span class="token function">Merge1</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> i<span class="token punctuation">,</span> i <span class="token operator">+</span> length<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> length–<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token comment">/*将A中元素归并到TmpA*/</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> length <span class="token operator">&lt;</span> N<span class="token punctuation">)</span> <span class="token comment">/* 归并最后2个子列 */</span>
        <span class="token function">Merge1</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> i<span class="token punctuation">,</span> i <span class="token operator">+</span> length<span class="token punctuation">,</span> N–<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token comment">/* 最后只剩1个子列 */</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> TmpA<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Merge_sort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">/* 初始化子序列长度 */</span>
    ElementType <span class="token operator">*</span>TmpA<span class="token punctuation">;</span>
    TmpA <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span>N <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>TmpA <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>length <span class="token operator">&lt;</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token function">Merge_pass</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> N<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
            length <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token function">Merge_pass</span><span class="token punctuation">(</span>TmpA<span class="token punctuation">,</span> A<span class="token punctuation">,</span> N<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
            length <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>TmpA<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token function">Error</span><span class="token punctuation">(</span> <span class="token string">"空间不足"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>稳定！</strong></p>
<h2 id="代码模板"><a href="#代码模板" class="headerlink" title="代码模板"></a>代码模板</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">InsertionSort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 插入排序 */</span>
    <span class="token keyword">int</span> P<span class="token punctuation">,</span> i<span class="token punctuation">;</span>
    ElementType Tmp<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>P <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> P <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> P<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Tmp <span class="token operator">=</span> A<span class="token punctuation">[</span>P<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 取出未排序序列中的第一个元素*/</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> P<span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> Tmp<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
            A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/*依次与已排序序列中元素比较并右移*/</span>
        A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Tmp<span class="token punctuation">;</span>          <span class="token comment">/* 放进合适的位置 */</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">ShellSort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 希尔排序 - 用Sedgewick增量序列 */</span>
    <span class="token keyword">int</span> Si<span class="token punctuation">,</span> D<span class="token punctuation">,</span> P<span class="token punctuation">,</span> i<span class="token punctuation">;</span>
    ElementType Tmp<span class="token punctuation">;</span>
    <span class="token comment">/* 这里只列出一小部分增量 */</span>
    <span class="token keyword">int</span> Sedgewick<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">929</span><span class="token punctuation">,</span> <span class="token number">505</span><span class="token punctuation">,</span> <span class="token number">209</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>Si <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> Sedgewick<span class="token punctuation">[</span>Si<span class="token punctuation">]</span> <span class="token operator">>=</span> N<span class="token punctuation">;</span> Si<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">;</span> <span class="token comment">/* 初始的增量Sedgewick[Si]不能超过待排序列长度 */</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>D <span class="token operator">=</span> Sedgewick<span class="token punctuation">[</span>Si<span class="token punctuation">]</span><span class="token punctuation">;</span> D <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> D <span class="token operator">=</span> Sedgewick<span class="token punctuation">[</span><span class="token operator">++</span>Si<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>P <span class="token operator">=</span> D<span class="token punctuation">;</span> P <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> P<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 插入排序*/</span>
            Tmp <span class="token operator">=</span> A<span class="token punctuation">[</span>P<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> P<span class="token punctuation">;</span> i <span class="token operator">>=</span> D <span class="token operator">&amp;&amp;</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> D<span class="token punctuation">]</span> <span class="token operator">></span> Tmp<span class="token punctuation">;</span> i <span class="token operator">-=</span> D<span class="token punctuation">)</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> D<span class="token punctuation">]</span><span class="token punctuation">;</span>
            A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Tmp<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">Swap</span><span class="token punctuation">(</span>ElementType <span class="token operator">*</span>a<span class="token punctuation">,</span> ElementType <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    ElementType t <span class="token operator">=</span> <span class="token operator">*</span>a<span class="token punctuation">;</span>
    <span class="token operator">*</span>a <span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">;</span>
    <span class="token operator">*</span>b <span class="token operator">=</span> t<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">PercDown</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> p<span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/* 改编代码4.24的PercDown( MaxHeap H, int p )    */</span>
    <span class="token comment">/* 将N个元素的数组中以A[p]为根的子堆调整为最大堆 */</span>
    <span class="token keyword">int</span> Parent<span class="token punctuation">,</span> Child<span class="token punctuation">;</span>
    ElementType X<span class="token punctuation">;</span>

    X <span class="token operator">=</span> A<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 取出根结点存放的值 */</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>Parent <span class="token operator">=</span> p<span class="token punctuation">;</span> <span class="token punctuation">(</span>Parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> Parent <span class="token operator">=</span> Child<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Child <span class="token operator">=</span> Parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>Child <span class="token operator">!=</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>Child<span class="token punctuation">]</span> <span class="token operator">&lt;</span> A<span class="token punctuation">[</span>Child <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            Child<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">/* Child指向左右子结点的较大者 */</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>X <span class="token operator">>=</span> A<span class="token punctuation">[</span>Child<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">/* 找到了合适位置 */</span>
        <span class="token keyword">else</span>       <span class="token comment">/* 下滤X */</span>
            A<span class="token punctuation">[</span>Parent<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>Child<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    A<span class="token punctuation">[</span>Parent<span class="token punctuation">]</span> <span class="token operator">=</span> X<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">HeapSort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 堆排序 */</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> N <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token comment">/* 建立最大堆 */</span>
        <span class="token function">PercDown</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> i<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">/* 删除最大堆顶 */</span>
        <span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>A<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 见代码7.1 */</span>
        <span class="token function">PercDown</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/* 归并排序 - 递归实现 */</span>

<span class="token comment">/* L = 左边起始位置, R = 右边起始位置, RightEnd = 右边终点位置*/</span>
<span class="token keyword">void</span> <span class="token function">Merge</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ElementType TmpA<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> L<span class="token punctuation">,</span> <span class="token keyword">int</span> R<span class="token punctuation">,</span> <span class="token keyword">int</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/* 将有序的A[L]~A[R-1]和A[R]~A[RightEnd]归并成一个有序序列*/</span>
    <span class="token keyword">int</span> LeftEnd<span class="token punctuation">,</span> NumElements<span class="token punctuation">,</span> Tmp<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>

    LeftEnd <span class="token operator">=</span> R <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">/* 左边终点位置 */</span>
    Tmp <span class="token operator">=</span> L<span class="token punctuation">;</span>         <span class="token comment">/* 有序序列的起始位置 */</span>
    NumElements <span class="token operator">=</span> RightEnd <span class="token operator">-</span> L <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>L <span class="token operator">&lt;=</span> LeftEnd <span class="token operator">&amp;&amp;</span> R <span class="token operator">&lt;=</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>L<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> A<span class="token punctuation">[</span>R<span class="token punctuation">]</span><span class="token punctuation">)</span>
            TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>L<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 将左边元素复制到TmpA */</span>
        <span class="token keyword">else</span>
            TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>R<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 将右边元素复制到TmpA */</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>L <span class="token operator">&lt;=</span> LeftEnd<span class="token punctuation">)</span> TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>L<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 直接复制左边剩下的 */</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>R <span class="token operator">&lt;=</span> RightEnd<span class="token punctuation">)</span> TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>R<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 直接复制右边剩下的 */</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> NumElements<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> RightEnd<span class="token operator">--</span><span class="token punctuation">)</span>
        A<span class="token punctuation">[</span>RightEnd<span class="token punctuation">]</span> <span class="token operator">=</span> TmpA<span class="token punctuation">[</span>RightEnd<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 将有序的TmpA[]复制回A[] */</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">Msort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ElementType TmpA<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> L<span class="token punctuation">,</span> <span class="token keyword">int</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/* 核心递归排序函数 */</span>
    <span class="token keyword">int</span> Center<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>L <span class="token operator">&lt;</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Center <span class="token operator">=</span> <span class="token punctuation">(</span>L <span class="token operator">+</span> RightEnd<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token function">Msort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> L<span class="token punctuation">,</span> Center<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">/* 递归解决左边 */</span>
        <span class="token function">Msort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> Center <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> RightEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/* 递归解决右边 */</span>
        <span class="token function">Merge</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> L<span class="token punctuation">,</span> Center <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> RightEnd<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 合并两段有序序列 */</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 归并排序 */</span>
    ElementType <span class="token operator">*</span>TmpA<span class="token punctuation">;</span>
    TmpA <span class="token operator">=</span> <span class="token punctuation">(</span>ElementType <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>N <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>TmpA <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">Msort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>TmpA<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"空间不足"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/* 归并排序 - 循环实现 */</span>
<span class="token comment">/* 这里Merge函数在递归版本中给出 */</span>

<span class="token comment">/* length = 当前有序子列的长度*/</span>
<span class="token keyword">void</span> <span class="token function">Merge_pass</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ElementType TmpA<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/* 两两归并相邻有序子列 */</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> N <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span> <span class="token operator">*</span> length<span class="token punctuation">)</span>
        <span class="token function">Merge</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> i<span class="token punctuation">,</span> i <span class="token operator">+</span> length<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> length <span class="token operator">&lt;</span> N<span class="token punctuation">)</span> <span class="token comment">/* 归并最后2个子列*/</span>
        <span class="token function">Merge</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> i<span class="token punctuation">,</span> i <span class="token operator">+</span> length<span class="token punctuation">,</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token comment">/* 最后只剩1个子列*/</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> TmpA<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">Merge_Sort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> length<span class="token punctuation">;</span>
    ElementType <span class="token operator">*</span>TmpA<span class="token punctuation">;</span>

    length <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">/* 初始化子序列长度*/</span>
    TmpA <span class="token operator">=</span> <span class="token punctuation">(</span>ElementType <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>N <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>TmpA <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>length <span class="token operator">&lt;</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token function">Merge_pass</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> N<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
            length <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token function">Merge_pass</span><span class="token punctuation">(</span>TmpA<span class="token punctuation">,</span> A<span class="token punctuation">,</span> N<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
            length <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>TmpA<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"空间不足"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="编程习题"><a href="#编程习题" class="headerlink" title="编程习题"></a>编程习题</h2><h3 id="1-排序"><a href="#1-排序" class="headerlink" title="1.排序"></a><a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/434/problems/6477">1.排序</a></h3><p>给定<em>N</em>个（长整型范围内的）整数，要求输出从小到大排序后的结果。</p>
<p>本题旨在测试各种不同的排序算法在各种数据情况下的表现。各组测试数据特点如下：</p>
<p>数据1：只有1个元素；</p>
<p>数据2：11个不相同的整数，测试基本正确性；</p>
<p>数据3：$10^3$个随机整数；</p>
<p>数据4：$10^4$个随机整数；</p>
<p>数据5：$10^5$个随机整数；</p>
<p>数据6：$10^5$个顺序整数；</p>
<p>数据7：$10^5$个逆序整数；</p>
<p>数据8：$10^5$个基本有序的整数；</p>
<p>数据9：$10^5$个随机正整数，每个数字不超过1000。</p>
<h4 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式:"></a>输入格式:</h4><p>输入第一行给出正整数<em>N</em>（≤105），随后一行给出<em>N</em>个（长整型范围内的）整数，其间以空格分隔。</p>
<h4 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式:"></a>输出格式:</h4><p>在一行中输出从小到大排序后的结果，数字间以1个空格分隔，行末不得有多余空格。</p>
<h4 id="输入样例"><a href="#输入样例" class="headerlink" title="输入样例:"></a>输入样例:</h4><pre class="line-numbers language-in" data-language="in"><code class="language-in">11
4 981 10 -17 0 -20 29 50 8 43 -5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="输出样例"><a href="#输出样例" class="headerlink" title="输出样例:"></a>输出样例:</h4><pre class="line-numbers language-out" data-language="out"><code class="language-out">-20 -17 -5 0 4 8 10 29 43 50 981<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p>可以提交各种排序代码来实验！以下代码读入时用了快读，测试某一排序时注释掉其它即可。</p>
<h4 id="AC-code"><a href="#AC-code" class="headerlink" title="AC code"></a>AC code</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> ElementType<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXSIZE</span> <span class="token expression"><span class="token number">100000</span></span></span>
<span class="token keyword">int</span> N<span class="token punctuation">,</span> A<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> symbol <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">&lt;</span> <span class="token string">'0'</span> <span class="token operator">||</span> ch <span class="token operator">></span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">)</span> symbol <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span>
        num <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> symbol<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">InsertionSort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 插入排序 */</span>
    <span class="token keyword">int</span> P<span class="token punctuation">,</span> i<span class="token punctuation">;</span>
    ElementType Tmp<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>P <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> P <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> P<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Tmp <span class="token operator">=</span> A<span class="token punctuation">[</span>P<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 取出未排序序列中的第一个元素*/</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> P<span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> Tmp<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
            A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/*依次与已排序序列中元素比较并右移*/</span>
        A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Tmp<span class="token punctuation">;</span>          <span class="token comment">/* 放进合适的位置 */</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">ShellSort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 希尔排序 - 用Sedgewick增量序列 */</span>
    <span class="token keyword">int</span> Si<span class="token punctuation">,</span> D<span class="token punctuation">,</span> P<span class="token punctuation">,</span> i<span class="token punctuation">;</span>
    ElementType Tmp<span class="token punctuation">;</span>
    <span class="token comment">/* 这里只列出一小部分增量 */</span>
    <span class="token keyword">int</span> Sedgewick<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">929</span><span class="token punctuation">,</span> <span class="token number">505</span><span class="token punctuation">,</span> <span class="token number">209</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>Si <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> Sedgewick<span class="token punctuation">[</span>Si<span class="token punctuation">]</span> <span class="token operator">>=</span> N<span class="token punctuation">;</span> Si<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">;</span> <span class="token comment">/* 初始的增量Sedgewick[Si]不能超过待排序列长度 */</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>D <span class="token operator">=</span> Sedgewick<span class="token punctuation">[</span>Si<span class="token punctuation">]</span><span class="token punctuation">;</span> D <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> D <span class="token operator">=</span> Sedgewick<span class="token punctuation">[</span><span class="token operator">++</span>Si<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>P <span class="token operator">=</span> D<span class="token punctuation">;</span> P <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> P<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 插入排序*/</span>
            Tmp <span class="token operator">=</span> A<span class="token punctuation">[</span>P<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> P<span class="token punctuation">;</span> i <span class="token operator">>=</span> D <span class="token operator">&amp;&amp;</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> D<span class="token punctuation">]</span> <span class="token operator">></span> Tmp<span class="token punctuation">;</span> i <span class="token operator">-=</span> D<span class="token punctuation">)</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> D<span class="token punctuation">]</span><span class="token punctuation">;</span>
            A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Tmp<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">Swap</span><span class="token punctuation">(</span>ElementType <span class="token operator">*</span>a<span class="token punctuation">,</span> ElementType <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    ElementType t <span class="token operator">=</span> <span class="token operator">*</span>a<span class="token punctuation">;</span>
    <span class="token operator">*</span>a <span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">;</span>
    <span class="token operator">*</span>b <span class="token operator">=</span> t<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">PercDown</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> p<span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/* 改编代码4.24的PercDown( MaxHeap H, int p )    */</span>
    <span class="token comment">/* 将N个元素的数组中以A[p]为根的子堆调整为最大堆 */</span>
    <span class="token keyword">int</span> Parent<span class="token punctuation">,</span> Child<span class="token punctuation">;</span>
    ElementType X<span class="token punctuation">;</span>

    X <span class="token operator">=</span> A<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 取出根结点存放的值 */</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>Parent <span class="token operator">=</span> p<span class="token punctuation">;</span> <span class="token punctuation">(</span>Parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> Parent <span class="token operator">=</span> Child<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Child <span class="token operator">=</span> Parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>Child <span class="token operator">!=</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>Child<span class="token punctuation">]</span> <span class="token operator">&lt;</span> A<span class="token punctuation">[</span>Child <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            Child<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">/* Child指向左右子结点的较大者 */</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>X <span class="token operator">>=</span> A<span class="token punctuation">[</span>Child<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">/* 找到了合适位置 */</span>
        <span class="token keyword">else</span>       <span class="token comment">/* 下滤X */</span>
            A<span class="token punctuation">[</span>Parent<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>Child<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    A<span class="token punctuation">[</span>Parent<span class="token punctuation">]</span> <span class="token operator">=</span> X<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">HeapSort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 堆排序 */</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> N <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token comment">/* 建立最大堆 */</span>
        <span class="token function">PercDown</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> i<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">/* 删除最大堆顶 */</span>
        <span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>A<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 见代码7.1 */</span>
        <span class="token function">PercDown</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/* 归并排序 - 递归实现 */</span>

<span class="token comment">/* L = 左边起始位置, R = 右边起始位置, RightEnd = 右边终点位置*/</span>
<span class="token keyword">void</span> <span class="token function">Merge</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ElementType TmpA<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> L<span class="token punctuation">,</span> <span class="token keyword">int</span> R<span class="token punctuation">,</span> <span class="token keyword">int</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/* 将有序的A[L]~A[R-1]和A[R]~A[RightEnd]归并成一个有序序列*/</span>
    <span class="token keyword">int</span> LeftEnd<span class="token punctuation">,</span> NumElements<span class="token punctuation">,</span> Tmp<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>

    LeftEnd <span class="token operator">=</span> R <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">/* 左边终点位置 */</span>
    Tmp <span class="token operator">=</span> L<span class="token punctuation">;</span>         <span class="token comment">/* 有序序列的起始位置 */</span>
    NumElements <span class="token operator">=</span> RightEnd <span class="token operator">-</span> L <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>L <span class="token operator">&lt;=</span> LeftEnd <span class="token operator">&amp;&amp;</span> R <span class="token operator">&lt;=</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>L<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> A<span class="token punctuation">[</span>R<span class="token punctuation">]</span><span class="token punctuation">)</span>
            TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>L<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 将左边元素复制到TmpA */</span>
        <span class="token keyword">else</span>
            TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>R<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 将右边元素复制到TmpA */</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>L <span class="token operator">&lt;=</span> LeftEnd<span class="token punctuation">)</span> TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>L<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 直接复制左边剩下的 */</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>R <span class="token operator">&lt;=</span> RightEnd<span class="token punctuation">)</span> TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>R<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 直接复制右边剩下的 */</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> NumElements<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> RightEnd<span class="token operator">--</span><span class="token punctuation">)</span>
        A<span class="token punctuation">[</span>RightEnd<span class="token punctuation">]</span> <span class="token operator">=</span> TmpA<span class="token punctuation">[</span>RightEnd<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 将有序的TmpA[]复制回A[] */</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">Msort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ElementType TmpA<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> L<span class="token punctuation">,</span> <span class="token keyword">int</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/* 核心递归排序函数 */</span>
    <span class="token keyword">int</span> Center<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>L <span class="token operator">&lt;</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Center <span class="token operator">=</span> <span class="token punctuation">(</span>L <span class="token operator">+</span> RightEnd<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token function">Msort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> L<span class="token punctuation">,</span> Center<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">/* 递归解决左边 */</span>
        <span class="token function">Msort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> Center <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> RightEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/* 递归解决右边 */</span>
        <span class="token function">Merge</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> L<span class="token punctuation">,</span> Center <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> RightEnd<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 合并两段有序序列 */</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 归并排序 */</span>
    ElementType <span class="token operator">*</span>TmpA<span class="token punctuation">;</span>
    TmpA <span class="token operator">=</span> <span class="token punctuation">(</span>ElementType <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>N <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>TmpA <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">Msort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>TmpA<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"空间不足"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/* 归并排序 - 循环实现 */</span>
<span class="token comment">/* 这里Merge函数在递归版本中给出 */</span>

<span class="token comment">/* length = 当前有序子列的长度*/</span>
<span class="token keyword">void</span> <span class="token function">Merge_pass</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ElementType TmpA<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/* 两两归并相邻有序子列 */</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> N <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span> <span class="token operator">*</span> length<span class="token punctuation">)</span>
        <span class="token function">Merge</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> i<span class="token punctuation">,</span> i <span class="token operator">+</span> length<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> length <span class="token operator">&lt;</span> N<span class="token punctuation">)</span> <span class="token comment">/* 归并最后2个子列*/</span>
        <span class="token function">Merge</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> i<span class="token punctuation">,</span> i <span class="token operator">+</span> length<span class="token punctuation">,</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token comment">/* 最后只剩1个子列*/</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> TmpA<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">Merge_Sort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> length<span class="token punctuation">;</span>
    ElementType <span class="token operator">*</span>TmpA<span class="token punctuation">;</span>

    length <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">/* 初始化子序列长度*/</span>
    TmpA <span class="token operator">=</span> <span class="token punctuation">(</span>ElementType <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>N <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>TmpA <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>length <span class="token operator">&lt;</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token function">Merge_pass</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> N<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
            length <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token function">Merge_pass</span><span class="token punctuation">(</span>TmpA<span class="token punctuation">,</span> A<span class="token punctuation">,</span> N<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
            length <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>TmpA<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"空间不足"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    N <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">InsertionSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">ShellSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">HeapSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">MergeSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Merge_Sort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> A<span class="token punctuation">[</span>N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h4><h5 id="插入排序-1"><a href="#插入排序-1" class="headerlink" title="插入排序"></a>插入排序</h5><table>
<thead>
<tr>
<th>测试点</th>
<th>结果</th>
<th>分数</th>
<th>耗时</th>
<th>内存</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>答案正确</td>
<td>1</td>
<td>4 ms</td>
<td>316 KB</td>
</tr>
<tr>
<td>1</td>
<td>答案正确</td>
<td>10</td>
<td>3 ms</td>
<td>188 KB</td>
</tr>
<tr>
<td>2</td>
<td>答案正确</td>
<td>2</td>
<td>4 ms</td>
<td>316 KB</td>
</tr>
<tr>
<td>3</td>
<td>答案正确</td>
<td>2</td>
<td>27 ms</td>
<td>444 KB</td>
</tr>
<tr>
<td>4</td>
<td>答案正确</td>
<td>2</td>
<td>1310 ms</td>
<td>1196 KB</td>
</tr>
<tr>
<td>5</td>
<td>答案正确</td>
<td>2</td>
<td>22 ms</td>
<td>1208 KB</td>
</tr>
<tr>
<td>6</td>
<td>答案正确</td>
<td>2</td>
<td>2506 ms</td>
<td>1168 KB</td>
</tr>
<tr>
<td>7</td>
<td>答案正确</td>
<td>2</td>
<td>40 ms</td>
<td>1336 KB</td>
</tr>
<tr>
<td>8</td>
<td>答案正确</td>
<td>2</td>
<td>1290 ms</td>
<td>1084 KB</td>
</tr>
</tbody></table>
<h5 id="希尔排序——用Sedgewick增量序列"><a href="#希尔排序——用Sedgewick增量序列" class="headerlink" title="希尔排序——用Sedgewick增量序列"></a>希尔排序——用Sedgewick增量序列</h5><table>
<thead>
<tr>
<th>测试点</th>
<th>结果</th>
<th>分数</th>
<th>耗时</th>
<th>内存</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>答案正确</td>
<td>1</td>
<td>4 ms</td>
<td>300 KB</td>
</tr>
<tr>
<td>1</td>
<td>答案正确</td>
<td>10</td>
<td>4 ms</td>
<td>296 KB</td>
</tr>
<tr>
<td>2</td>
<td>答案正确</td>
<td>2</td>
<td>3 ms</td>
<td>192 KB</td>
</tr>
<tr>
<td>3</td>
<td>答案正确</td>
<td>2</td>
<td>6 ms</td>
<td>300 KB</td>
</tr>
<tr>
<td>4</td>
<td>答案正确</td>
<td>2</td>
<td>43 ms</td>
<td>1196 KB</td>
</tr>
<tr>
<td>5</td>
<td>答案正确</td>
<td>2</td>
<td>29 ms</td>
<td>1324 KB</td>
</tr>
<tr>
<td>6</td>
<td>答案正确</td>
<td>2</td>
<td>36 ms</td>
<td>1196 KB</td>
</tr>
<tr>
<td>7</td>
<td>答案正确</td>
<td>2</td>
<td>27 ms</td>
<td>1196 KB</td>
</tr>
<tr>
<td>8</td>
<td>答案正确</td>
<td>2</td>
<td>37 ms</td>
<td>1068 KB</td>
</tr>
</tbody></table>
<h5 id="堆排序-1"><a href="#堆排序-1" class="headerlink" title="堆排序"></a>堆排序</h5><table>
<thead>
<tr>
<th>测试点</th>
<th>结果</th>
<th>分数</th>
<th>耗时</th>
<th>内存</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>答案正确</td>
<td>1</td>
<td>5 ms</td>
<td>300 KB</td>
</tr>
<tr>
<td>1</td>
<td>答案正确</td>
<td>10</td>
<td>2 ms</td>
<td>192 KB</td>
</tr>
<tr>
<td>2</td>
<td>答案正确</td>
<td>2</td>
<td>3 ms</td>
<td>192 KB</td>
</tr>
<tr>
<td>3</td>
<td>答案正确</td>
<td>2</td>
<td>5 ms</td>
<td>316 KB</td>
</tr>
<tr>
<td>4</td>
<td>答案正确</td>
<td>2</td>
<td>23 ms</td>
<td>1204 KB</td>
</tr>
<tr>
<td>5</td>
<td>答案正确</td>
<td>2</td>
<td>33 ms</td>
<td>1196 KB</td>
</tr>
<tr>
<td>6</td>
<td>答案正确</td>
<td>2</td>
<td>29 ms</td>
<td>1196 KB</td>
</tr>
<tr>
<td>7</td>
<td>答案正确</td>
<td>2</td>
<td>29 ms</td>
<td>1212 KB</td>
</tr>
<tr>
<td>8</td>
<td>答案正确</td>
<td>2</td>
<td>30 ms</td>
<td>952 KB</td>
</tr>
</tbody></table>
<h5 id="归并排序——递归"><a href="#归并排序——递归" class="headerlink" title="归并排序——递归"></a>归并排序——递归</h5><table>
<thead>
<tr>
<th>测试点</th>
<th>结果</th>
<th>分数</th>
<th>耗时</th>
<th>内存</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>答案正确</td>
<td>1</td>
<td>3 ms</td>
<td>300 KB</td>
</tr>
<tr>
<td>1</td>
<td>答案正确</td>
<td>10</td>
<td>2 ms</td>
<td>192 KB</td>
</tr>
<tr>
<td>2</td>
<td>答案正确</td>
<td>2</td>
<td>3 ms</td>
<td>188 KB</td>
</tr>
<tr>
<td>3</td>
<td>答案正确</td>
<td>2</td>
<td>7 ms</td>
<td>316 KB</td>
</tr>
<tr>
<td>4</td>
<td>答案正确</td>
<td>2</td>
<td>25 ms</td>
<td>1204 KB</td>
</tr>
<tr>
<td>5</td>
<td>答案正确</td>
<td>2</td>
<td>27 ms</td>
<td>1188 KB</td>
</tr>
<tr>
<td>6</td>
<td>答案正确</td>
<td>2</td>
<td>29 ms</td>
<td>1188 KB</td>
</tr>
<tr>
<td>7</td>
<td>答案正确</td>
<td>2</td>
<td>25 ms</td>
<td>1192 KB</td>
</tr>
<tr>
<td>8</td>
<td>答案正确</td>
<td>2</td>
<td>36 ms</td>
<td>1060 KB</td>
</tr>
</tbody></table>
<h5 id="归并排序——循环"><a href="#归并排序——循环" class="headerlink" title="归并排序——循环"></a>归并排序——循环</h5><table>
<thead>
<tr>
<th>测试点</th>
<th>结果</th>
<th>分数</th>
<th>耗时</th>
<th>内存</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>答案正确</td>
<td>1</td>
<td>7 ms</td>
<td>320 KB</td>
</tr>
<tr>
<td>1</td>
<td>答案正确</td>
<td>10</td>
<td>2 ms</td>
<td>196 KB</td>
</tr>
<tr>
<td>2</td>
<td>答案正确</td>
<td>2</td>
<td>3 ms</td>
<td>196 KB</td>
</tr>
<tr>
<td>3</td>
<td>答案正确</td>
<td>2</td>
<td>5 ms</td>
<td>320 KB</td>
</tr>
<tr>
<td>4</td>
<td>答案正确</td>
<td>2</td>
<td>36 ms</td>
<td>1208 KB</td>
</tr>
<tr>
<td>5</td>
<td>答案正确</td>
<td>2</td>
<td>31 ms</td>
<td>1204 KB</td>
</tr>
<tr>
<td>6</td>
<td>答案正确</td>
<td>2</td>
<td>29 ms</td>
<td>1208 KB</td>
</tr>
<tr>
<td>7</td>
<td>答案正确</td>
<td>2</td>
<td>29 ms</td>
<td>1208 KB</td>
</tr>
<tr>
<td>8</td>
<td>答案正确</td>
<td>2</td>
<td>33 ms</td>
<td>960 KB</td>
</tr>
</tbody></table>
<h3 id="2-Insert-or-Merge"><a href="#2-Insert-or-Merge" class="headerlink" title="2.Insert or Merge"></a>2.Insert or Merge</h3><p> 2014年PAT冬季考试真题</p>
<p>According to Wikipedia:</p>
<p><strong>Insertion sort</strong> iterates, consuming one input element each repetition, and growing a sorted output list. Each iteration, insertion sort removes one element from the input data, finds the location it belongs within the sorted list, and inserts it there. It repeats until no input elements remain.</p>
<p><strong>Merge sort</strong> works as follows: Divide the unsorted list into N sublists, each containing 1 element (a list of 1 element is considered sorted). Then repeatedly merge two adjacent sublists to produce new sorted sublists until there is only 1 sublist remaining.</p>
<p>Now given the initial sequence of integers, together with a sequence which is a result of several iterations of some sorting method, can you tell which sorting method we are using?</p>
<h4 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h4><p>Each input file contains one test case. For each case, the first line gives a positive integer <em>N</em> (≤100). Then in the next line, <em>N</em> integers are given as the initial sequence. The last line contains the partially sorted sequence of the <em>N</em> numbers. It is assumed that the target sequence is always ascending. All the numbers in a line are separated by a space.</p>
<h4 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h4><p>For each test case, print in the first line either “Insertion Sort” or “Merge Sort” to indicate the method used to obtain the partial result. Then run this method for one more iteration and output in the second line the resuling sequence. It is guaranteed that the answer is unique for each test case. All the numbers in a line must be separated by a space, and there must be no extra space at the end of the line.</p>
<h4 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1:"></a>Sample Input 1:</h4><pre class="line-numbers language-in" data-language="in"><code class="language-in">10
3 1 2 8 7 5 9 4 6 0
1 2 3 7 8 5 9 4 6 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1:"></a>Sample Output 1:</h4><pre class="line-numbers language-out" data-language="out"><code class="language-out">Insertion Sort
1 2 3 5 7 8 9 4 6 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2:"></a>Sample Input 2:</h4><pre class="line-numbers language-in" data-language="in"><code class="language-in">10
3 1 2 8 7 5 9 4 0 6
1 3 2 8 5 7 4 9 0 6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2:"></a>Sample Output 2:</h4><pre class="line-numbers language-out" data-language="out"><code class="language-out">Merge Sort
1 2 3 8 4 5 7 9 0 6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h4><p>如何区分简单插入和非递归的归并排序  </p>
<ul>
<li>插入排序：前面有序，后面没变化</li>
<li>归并排序：分段有序  </li>
</ul>
<p>柿子得挑软的捏！</p>
<p>判断是否插入排序</p>
<p>从左向右扫描，直到发现顺序不对， <strong>跳出</strong>循环</p>
<p>从<strong>跳出地点</strong>继续向右扫描，与原始序列比对，发现不同则判断为“非”</p>
<p>循环自然结束，则判断为“是”，返回<strong>跳出地点</strong></p>
<p>如果是插入排序，则从<strong>跳出地点</strong>开始进行一趟插入  </p>
<h4 id="AC-code-1"><a href="#AC-code-1" class="headerlink" title="AC code"></a>AC code</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> ElementType<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXSIZE</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token keyword">int</span> N<span class="token punctuation">,</span> A<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">,</span> B<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">InsertionSort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 插入排序 */</span>
    <span class="token keyword">int</span> P<span class="token punctuation">,</span> i<span class="token punctuation">;</span>
    ElementType Tmp<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>P <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> P <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> P<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Tmp <span class="token operator">=</span> A<span class="token punctuation">[</span>P<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 取出未排序序列中的第一个元素*/</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> P<span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> Tmp<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
            A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/*依次与已排序序列中元素比较并右移*/</span>
        A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Tmp<span class="token punctuation">;</span>          <span class="token comment">/* 放进合适的位置 */</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/* 归并排序 - 递归实现 */</span>

<span class="token comment">/* L = 左边起始位置, R = 右边起始位置, RightEnd = 右边终点位置*/</span>
<span class="token keyword">void</span> <span class="token function">Merge</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ElementType TmpA<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> L<span class="token punctuation">,</span> <span class="token keyword">int</span> R<span class="token punctuation">,</span> <span class="token keyword">int</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/* 将有序的A[L]~A[R-1]和A[R]~A[RightEnd]归并成一个有序序列*/</span>
    <span class="token keyword">int</span> LeftEnd<span class="token punctuation">,</span> NumElements<span class="token punctuation">,</span> Tmp<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>

    LeftEnd <span class="token operator">=</span> R <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">/* 左边终点位置 */</span>
    Tmp <span class="token operator">=</span> L<span class="token punctuation">;</span>         <span class="token comment">/* 有序序列的起始位置 */</span>
    NumElements <span class="token operator">=</span> RightEnd <span class="token operator">-</span> L <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>L <span class="token operator">&lt;=</span> LeftEnd <span class="token operator">&amp;&amp;</span> R <span class="token operator">&lt;=</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>L<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> A<span class="token punctuation">[</span>R<span class="token punctuation">]</span><span class="token punctuation">)</span>
            TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>L<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 将左边元素复制到TmpA */</span>
        <span class="token keyword">else</span>
            TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>R<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 将右边元素复制到TmpA */</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>L <span class="token operator">&lt;=</span> LeftEnd<span class="token punctuation">)</span> TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>L<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 直接复制左边剩下的 */</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>R <span class="token operator">&lt;=</span> RightEnd<span class="token punctuation">)</span> TmpA<span class="token punctuation">[</span>Tmp<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>R<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 直接复制右边剩下的 */</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> NumElements<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> RightEnd<span class="token operator">--</span><span class="token punctuation">)</span>
        A<span class="token punctuation">[</span>RightEnd<span class="token punctuation">]</span> <span class="token operator">=</span> TmpA<span class="token punctuation">[</span>RightEnd<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 将有序的TmpA[]复制回A[] */</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">Msort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ElementType TmpA<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> L<span class="token punctuation">,</span> <span class="token keyword">int</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/* 核心递归排序函数 */</span>
    <span class="token keyword">int</span> Center<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>L <span class="token operator">&lt;</span> RightEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Center <span class="token operator">=</span> <span class="token punctuation">(</span>L <span class="token operator">+</span> RightEnd<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token function">Msort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> L<span class="token punctuation">,</span> Center<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">/* 递归解决左边 */</span>
        <span class="token function">Msort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> Center <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> RightEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/* 递归解决右边 */</span>
        <span class="token function">Merge</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> L<span class="token punctuation">,</span> Center <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> RightEnd<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 合并两段有序序列 */</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 归并排序 */</span>
    ElementType <span class="token operator">*</span>TmpA<span class="token punctuation">;</span>
    TmpA <span class="token operator">=</span> <span class="token punctuation">(</span>ElementType <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>N <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>TmpA <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">Msort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> TmpA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>TmpA<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"空间不足"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">,</span> Tmp<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> B<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> B<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Insertion Sort\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">InsertionSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Merge Sort\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            k <span class="token operator">=</span> k <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N <span class="token operator">/</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span>A <span class="token operator">+</span> i <span class="token operator">*</span> k<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">MergeSort</span><span class="token punctuation">(</span>A <span class="token operator">+</span> N <span class="token operator">/</span> k <span class="token operator">*</span> k<span class="token punctuation">,</span> N <span class="token operator">-</span> N <span class="token operator">/</span> k <span class="token operator">*</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> A<span class="token punctuation">[</span>N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<table>
<thead>
<tr>
<th>测试点</th>
<th>提示</th>
<th>结果</th>
<th>分数</th>
<th>耗时</th>
<th>内存</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>sample 1 Ins 中间步骤，有不需要交换的元素</td>
<td>答案正确</td>
<td>7</td>
<td>3 ms</td>
<td>304 KB</td>
</tr>
<tr>
<td>1</td>
<td>sample 2 Mg 有不成双，有不需要交换的元素</td>
<td>答案正确</td>
<td>6</td>
<td>2 ms</td>
<td>176 KB</td>
</tr>
<tr>
<td>2</td>
<td>最小N, Ins 第一步没变</td>
<td>答案正确</td>
<td>1</td>
<td>2 ms</td>
<td>196 KB</td>
</tr>
<tr>
<td>3</td>
<td>最小N，Mg第一步</td>
<td>答案正确</td>
<td>1</td>
<td>2 ms</td>
<td>180 KB</td>
</tr>
<tr>
<td>4</td>
<td>最大N，Ins</td>
<td>答案正确</td>
<td>3</td>
<td>2 ms</td>
<td>192 KB</td>
</tr>
<tr>
<td>5</td>
<td>最大N，Mg，后面N位没变化</td>
<td>答案正确</td>
<td>4</td>
<td>2 ms</td>
<td>176 KB</td>
</tr>
<tr>
<td>6</td>
<td>卡住Mg检查片段长度的错误算法，连续长度有3种</td>
<td>答案正确</td>
<td>3</td>
<td>2 ms</td>
<td>192 KB</td>
</tr>
</tbody></table>
<h3 id="3-Insertion-or-Heap-Sort"><a href="#3-Insertion-or-Heap-Sort" class="headerlink" title="3.Insertion or Heap Sort"></a><a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/16/problems/676">3.Insertion or Heap Sort</a></h3><p>2015年考研复试上机真题</p>
<p>According to Wikipedia:</p>
<p><strong>Insertion sort</strong> iterates, consuming one input element each repetition, and growing a sorted output list. Each iteration, insertion sort removes one element from the input data, finds the location it belongs within the sorted list, and inserts it there. It repeats until no input elements remain.</p>
<p><strong>Heap sort</strong> divides its input into a sorted and an unsorted region, and it iteratively shrinks the unsorted region by extracting the largest element and moving that to the sorted region. it involves the use of a heap data structure rather than a linear-time search to find the maximum.</p>
<p>Now given the initial sequence of integers, together with a sequence which is a result of several iterations of some sorting method, can you tell which sorting method we are using?</p>
<h4 id="Input-Specification-1"><a href="#Input-Specification-1" class="headerlink" title="Input Specification:"></a>Input Specification:</h4><p>Each input file contains one test case. For each case, the first line gives a positive integer <em>N</em> (≤100). Then in the next line, <em>N</em> integers are given as the initial sequence. The last line contains the partially sorted sequence of the <em>N</em> numbers. It is assumed that the target sequence is always ascending. All the numbers in a line are separated by a space.</p>
<h4 id="Output-Specification-1"><a href="#Output-Specification-1" class="headerlink" title="Output Specification:"></a>Output Specification:</h4><p>For each test case, print in the first line either “Insertion Sort” or “Heap Sort” to indicate the method used to obtain the partial result. Then run this method for one more iteration and output in the second line the resulting sequence. It is guaranteed that the answer is unique for each test case. All the numbers in a line must be separated by a space, and there must be no extra space at the end of the line.</p>
<h4 id="Sample-Input-1-1"><a href="#Sample-Input-1-1" class="headerlink" title="Sample Input 1:"></a>Sample Input 1:</h4><pre class="line-numbers language-in" data-language="in"><code class="language-in">10
3 1 2 8 7 5 9 4 6 0
1 2 3 7 8 5 9 4 6 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="Sample-Output-1-1"><a href="#Sample-Output-1-1" class="headerlink" title="Sample Output 1:"></a>Sample Output 1:</h4><pre class="line-numbers language-out" data-language="out"><code class="language-out">Insertion Sort
1 2 3 5 7 8 9 4 6 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="Sample-Input-2-1"><a href="#Sample-Input-2-1" class="headerlink" title="Sample Input 2:"></a>Sample Input 2:</h4><pre class="line-numbers language-in" data-language="in"><code class="language-in">10
3 1 2 8 7 5 9 4 6 0
6 4 5 1 0 3 2 7 8 9<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="Sample-Output-2-1"><a href="#Sample-Output-2-1" class="headerlink" title="Sample Output 2:"></a>Sample Output 2:</h4><pre class="line-numbers language-out" data-language="out"><code class="language-out">Heap Sort
5 4 3 1 0 2 6 7 8 9<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h4><p>与上题一样的，只不过处理堆排序时略有不同。</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> ElementType<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXSIZE</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token keyword">int</span> N<span class="token punctuation">,</span> A<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">,</span> B<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">InsertionSort</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">/* 插入排序 */</span>
    <span class="token keyword">int</span> P<span class="token punctuation">,</span> i<span class="token punctuation">;</span>
    ElementType Tmp<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>P <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> P <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> P<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Tmp <span class="token operator">=</span> A<span class="token punctuation">[</span>P<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* 取出未排序序列中的第一个元素*/</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> P<span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> Tmp<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
            A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/*依次与已排序序列中元素比较并右移*/</span>
        A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Tmp<span class="token punctuation">;</span>          <span class="token comment">/* 放进合适的位置 */</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">Swap</span><span class="token punctuation">(</span>ElementType <span class="token operator">*</span>a<span class="token punctuation">,</span> ElementType <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    ElementType t <span class="token operator">=</span> <span class="token operator">*</span>a<span class="token punctuation">;</span>
    <span class="token operator">*</span>a <span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">;</span>
    <span class="token operator">*</span>b <span class="token operator">=</span> t<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">PercDown</span><span class="token punctuation">(</span>ElementType A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> right <span class="token operator">&amp;&amp;</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> A<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> j <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>A<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        i <span class="token operator">=</span> j<span class="token punctuation">;</span>
        j <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">,</span> Tmp<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> B<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> B<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Insertion Sort\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">InsertionSort</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Heap Sort\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        k <span class="token operator">=</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> B<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">>=</span> B<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> k<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>B<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>B<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">PercDown</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> B<span class="token punctuation">[</span>N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<table>
<thead>
<tr>
<th>测试点</th>
<th>提示</th>
<th>结果</th>
<th>分数</th>
<th>耗时</th>
<th>内存</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>sample Ins 中间步骤，有不需要交换的元素</td>
<td>答案正确</td>
<td>7</td>
<td>5 ms</td>
<td>188 KB</td>
</tr>
<tr>
<td>1</td>
<td>sample Hp 一般情况</td>
<td>答案正确</td>
<td>6</td>
<td>4 ms</td>
<td>176 KB</td>
</tr>
<tr>
<td>2</td>
<td>最小N, Ins 第一步没变</td>
<td>答案正确</td>
<td>2</td>
<td>4 ms</td>
<td>200 KB</td>
</tr>
<tr>
<td>3</td>
<td>最小N, Hp第1步</td>
<td>答案正确</td>
<td>2</td>
<td>3 ms</td>
<td>188 KB</td>
</tr>
<tr>
<td>4</td>
<td>最大N，Ins</td>
<td>答案正确</td>
<td>4</td>
<td>5 ms</td>
<td>196 KB</td>
</tr>
<tr>
<td>5</td>
<td>最大N，Hp，后面x位没变化</td>
<td>答案正确</td>
<td>4</td>
<td>4 ms</td>
<td>328 KB</td>
</tr>
</tbody></table>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Phoenix</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://ysy-phoenix.github.io/2021/08051709.html">https://ysy-phoenix.github.io/2021/08051709.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Phoenix</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                                    <span class="chip bg-color">数据结构</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/2021/08051709.html">
                    <div class="card-image">
                        
                        <img src="/images/y.jpg" class="responsive-img" alt="数据结构week9">
                        
                        <span class="card-title">数据结构week9</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-08-05
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" class="post-category">
                                    程序设计
                                </a>
                            
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                        <span class="chip bg-color">数据结构</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/080450796.html">
                    <div class="card-image">
                        
                        <img src="/images/x.jpg" class="responsive-img" alt="数据结构week8">
                        
                        <span class="card-title">数据结构week8</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-08-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" class="post-category">
                                    程序设计
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                        <span class="chip bg-color">数据结构</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: Phoenix<br />'
            + '文章作者: Phoenix<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.8/unpacked/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>



    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="5387555352"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021</span>
            
            <span id="year">2021</span>
            <a href="/about" target="_blank">Phoenix</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">72.8k</span>&nbsp;字
            
            
            
            
            
          
    <span id="busuanzi_container_site_pv" style='display:none'>
        <i class="fa fa-heart-o"></i>
        本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
    </span>


    <span id="busuanzi_container_site_uv" style='display:none'>
        人次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
    </span>

            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2021";
                    var startMonth = "4";
                    var startDate = "3";
                    var startHour = "19";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/ysy-phoenix" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:2433449772@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2433449772" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2433449772" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    
    <script src="/js/sakura.js">
    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"/>
<script src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/autoload.js"></script>
    <script src="/js/prism.js"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>
